{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import*as CommonActions from\"./CommonActions\";import NavigationContext from\"./NavigationContext\";export default function useNavigationCache(_ref){var state=_ref.state,getState=_ref.getState,navigation=_ref.navigation,_setOptions=_ref.setOptions,router=_ref.router,emitter=_ref.emitter;var parentNavigation=React.useContext(NavigationContext);var cache=React.useMemo(function(){return{current:{}};},[getState,navigation,_setOptions,router,emitter,parentNavigation]);var actions=_objectSpread({},router.actionCreators,{},CommonActions);cache.current=state.routes.reduce(function(acc,route,index){var previous=cache.current[route.key];if(previous){acc[route.key]=previous;}else{var emit=navigation.emit,rest=_objectWithoutProperties(navigation,[\"emit\"]);var dispatch=function dispatch(action){var payload=typeof action==='function'?action(getState()):action;navigation.dispatch(typeof payload==='object'&&payload!=null?_objectSpread({source:route.key},payload):payload);};var helpers=Object.keys(actions).reduce(function(acc,name){acc[name]=function(){return dispatch(actions[name].apply(actions,arguments));};return acc;},{});acc[route.key]=_objectSpread({},rest,{},helpers,{},emitter.create(route.key),{dangerouslyGetParent:function dangerouslyGetParent(){return parentNavigation;},dangerouslyGetState:getState,dispatch:dispatch,setOptions:function setOptions(options){return _setOptions(function(o){return _objectSpread({},o,_defineProperty({},route.key,_objectSpread({},o[route.key],{},options)));});},isFocused:function isFocused(){var state=getState();if(index!==state.index){return false;}return navigation?navigation.isFocused():true;}});}return acc;},{});return cache.current;}","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/core/lib/module/useNavigationCache.js"],"names":["_objectWithoutProperties","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","CommonActions","NavigationContext","useNavigationCache","_ref","state","getState","navigation","_setOptions","setOptions","router","emitter","parentNavigation","useContext","cache","useMemo","current","actions","actionCreators","routes","reduce","acc","route","index","previous","emit","rest","dispatch","action","payload","helpers","name","create","dangerouslyGetParent","dangerouslyGetState","options","o","isFocused"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import*as CommonActions from'./CommonActions';import NavigationContext from'./NavigationContext';export default function useNavigationCache(_ref){var state=_ref.state,getState=_ref.getState,navigation=_ref.navigation,_setOptions=_ref.setOptions,router=_ref.router,emitter=_ref.emitter;var parentNavigation=React.useContext(NavigationContext);var cache=React.useMemo(function(){return{current:{}};},[getState,navigation,_setOptions,router,emitter,parentNavigation]);var actions=_objectSpread({},router.actionCreators,{},CommonActions);cache.current=state.routes.reduce(function(acc,route,index){var previous=cache.current[route.key];if(previous){acc[route.key]=previous;}else{var emit=navigation.emit,rest=_objectWithoutProperties(navigation,[\"emit\"]);var dispatch=function dispatch(action){var payload=typeof action==='function'?action(getState()):action;navigation.dispatch(typeof payload==='object'&&payload!=null?_objectSpread({source:route.key},payload):payload);};var helpers=Object.keys(actions).reduce(function(acc,name){acc[name]=function(){return dispatch(actions[name].apply(actions,arguments));};return acc;},{});acc[route.key]=_objectSpread({},rest,{},helpers,{},emitter.create(route.key),{dangerouslyGetParent:function dangerouslyGetParent(){return parentNavigation;},dangerouslyGetState:getState,dispatch:dispatch,setOptions:function setOptions(options){return _setOptions(function(o){return _objectSpread({},o,_defineProperty({},route.key,_objectSpread({},o[route.key],{},options)));});},isFocused:function isFocused(){var state=getState();if(index!==state.index){return false;}return navigation?navigation.isFocused():true;}});}return acc;},{});return cache.current;}\n//# sourceMappingURL=useNavigationCache.js.map"]},"metadata":{},"sourceType":"module"}