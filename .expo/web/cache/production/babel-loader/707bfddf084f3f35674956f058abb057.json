{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import shortid from'shortid';import{BaseRouter}from'@react-navigation/core';export var StackActions={push:function push(name,params){return{type:'PUSH',payload:{name:name,params:params}};},pop:function pop(){var count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return{type:'POP',payload:{count:count}};},popToTop:function popToTop(){return{type:'POP_TO_TOP'};}};export default function StackRouter(options){var router=_objectSpread({},BaseRouter,{type:'stack',getInitialState:function getInitialState(_ref){var routeNames=_ref.routeNames,routeParamList=_ref.routeParamList;var initialRouteName=options.initialRouteName!==undefined?options.initialRouteName:routeNames[0];return{stale:false,type:'stack',key:\"stack-\"+shortid(),index:0,routeNames:routeNames,routes:[{key:initialRouteName+\"-\"+shortid(),name:initialRouteName,params:routeParamList[initialRouteName]}]};},getRehydratedState:function getRehydratedState(partialState,_ref2){var routeNames=_ref2.routeNames,routeParamList=_ref2.routeParamList;var state=partialState;if(state.stale===false){return state;}var routes=state.routes.filter(function(route){return routeNames.includes(route.name);}).map(function(route){return _objectSpread({},route,{key:route.key||route.name+\"-\"+shortid(),params:routeParamList[route.name]!==undefined?_objectSpread({},routeParamList[route.name],{},route.params):route.params});});if(routes.length===0){var initialRouteName=options.initialRouteName!==undefined?options.initialRouteName:routeNames[0];routes.push({key:initialRouteName+\"-\"+shortid(),name:initialRouteName,params:routeParamList[initialRouteName]});}return{stale:false,type:'stack',key:\"stack-\"+shortid(),index:routes.length-1,routeNames:routeNames,routes:routes};},getStateForRouteNamesChange:function getStateForRouteNamesChange(state,_ref3){var routeNames=_ref3.routeNames,routeParamList=_ref3.routeParamList;var routes=state.routes.filter(function(route){return routeNames.includes(route.name);});if(routes.length===0){var initialRouteName=options.initialRouteName!==undefined&&routeNames.includes(options.initialRouteName)?options.initialRouteName:routeNames[0];routes.push({key:initialRouteName+\"-\"+shortid(),name:initialRouteName,params:routeParamList[initialRouteName]});}return _objectSpread({},state,{routeNames:routeNames,routes:routes,index:Math.min(state.index,routes.length-1)});},getStateForRouteFocus:function getStateForRouteFocus(state,key){var index=state.routes.findIndex(function(r){return r.key===key;});if(index===-1||index===state.index){return state;}return _objectSpread({},state,{index:index,routes:state.routes.slice(0,index+1)});},getStateForAction:function getStateForAction(state,action){switch(action.type){case'PUSH':if(state.routeNames.includes(action.payload.name)){return _objectSpread({},state,{index:state.index+1,routes:[].concat(_toConsumableArray(state.routes),[{key:action.payload.key===undefined?action.payload.name+\"-\"+shortid():action.payload.key,name:action.payload.name,params:action.payload.params}])});}return null;case'POP':{var index=action.target===state.key&&action.source?state.routes.findIndex(function(r){return r.key===action.source;}):state.index;if(index>0){var routes=state.routes.slice(0,Math.max(index-action.payload.count+1,1));return _objectSpread({},state,{index:routes.length-1,routes:routes});}return null;}case'POP_TO_TOP':return router.getStateForAction(state,{type:'POP',payload:{count:state.routes.length-1}});case'NAVIGATE':if(action.payload.key||action.payload.name&&state.routeNames.includes(action.payload.name)){var _index=-1;if(state.routes[state.index].name===action.payload.name&&action.payload.key===undefined||state.routes[state.index].key===action.payload.key){_index=state.index;}else{for(var i=state.routes.length-1;i>=0;i--){if(state.routes[i].name===action.payload.name&&action.payload.key===undefined||state.routes[i].key===action.payload.key){_index=i;break;}}}if(_index===-1&&action.payload.key&&action.payload.name===undefined){return null;}if(_index===-1&&action.payload.name!==undefined){return router.getStateForAction(state,{type:'PUSH',payload:{key:action.payload.key,name:action.payload.name,params:action.payload.params}});}return _objectSpread({},state,{index:_index,routes:[].concat(_toConsumableArray(state.routes.slice(0,_index)),[action.payload.params!==undefined?_objectSpread({},state.routes[_index],{params:_objectSpread({},state.routes[_index].params,{},action.payload.params)}):state.routes[_index]])});}return null;case'GO_BACK':if(state.index>0){return router.getStateForAction(state,{type:'POP',payload:{count:1},target:action.target,source:action.source});}return null;default:return BaseRouter.getStateForAction(state,action);}},actionCreators:StackActions});return router;}","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/routers/lib/module/StackRouter.js"],"names":["_toConsumableArray","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","shortid","BaseRouter","StackActions","name","params","type","payload","pop","count","undefined","popToTop","StackRouter","options","router","getInitialState","_ref","routeNames","routeParamList","initialRouteName","stale","index","routes","getRehydratedState","partialState","_ref2","state","route","includes","map","getStateForRouteNamesChange","_ref3","Math","min","getStateForRouteFocus","findIndex","r","slice","getStateForAction","action","concat","max","_index","actionCreators"],"mappings":"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","sourcesContent":["import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import shortid from'shortid';import{BaseRouter}from'@react-navigation/core';export var StackActions={push:function push(name,params){return{type:'PUSH',payload:{name:name,params:params}};},pop:function pop(){var count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return{type:'POP',payload:{count:count}};},popToTop:function popToTop(){return{type:'POP_TO_TOP'};}};export default function StackRouter(options){var router=_objectSpread({},BaseRouter,{type:'stack',getInitialState:function getInitialState(_ref){var routeNames=_ref.routeNames,routeParamList=_ref.routeParamList;var initialRouteName=options.initialRouteName!==undefined?options.initialRouteName:routeNames[0];return{stale:false,type:'stack',key:\"stack-\"+shortid(),index:0,routeNames:routeNames,routes:[{key:initialRouteName+\"-\"+shortid(),name:initialRouteName,params:routeParamList[initialRouteName]}]};},getRehydratedState:function getRehydratedState(partialState,_ref2){var routeNames=_ref2.routeNames,routeParamList=_ref2.routeParamList;var state=partialState;if(state.stale===false){return state;}var routes=state.routes.filter(function(route){return routeNames.includes(route.name);}).map(function(route){return _objectSpread({},route,{key:route.key||route.name+\"-\"+shortid(),params:routeParamList[route.name]!==undefined?_objectSpread({},routeParamList[route.name],{},route.params):route.params});});if(routes.length===0){var initialRouteName=options.initialRouteName!==undefined?options.initialRouteName:routeNames[0];routes.push({key:initialRouteName+\"-\"+shortid(),name:initialRouteName,params:routeParamList[initialRouteName]});}return{stale:false,type:'stack',key:\"stack-\"+shortid(),index:routes.length-1,routeNames:routeNames,routes:routes};},getStateForRouteNamesChange:function getStateForRouteNamesChange(state,_ref3){var routeNames=_ref3.routeNames,routeParamList=_ref3.routeParamList;var routes=state.routes.filter(function(route){return routeNames.includes(route.name);});if(routes.length===0){var initialRouteName=options.initialRouteName!==undefined&&routeNames.includes(options.initialRouteName)?options.initialRouteName:routeNames[0];routes.push({key:initialRouteName+\"-\"+shortid(),name:initialRouteName,params:routeParamList[initialRouteName]});}return _objectSpread({},state,{routeNames:routeNames,routes:routes,index:Math.min(state.index,routes.length-1)});},getStateForRouteFocus:function getStateForRouteFocus(state,key){var index=state.routes.findIndex(function(r){return r.key===key;});if(index===-1||index===state.index){return state;}return _objectSpread({},state,{index:index,routes:state.routes.slice(0,index+1)});},getStateForAction:function getStateForAction(state,action){switch(action.type){case'PUSH':if(state.routeNames.includes(action.payload.name)){return _objectSpread({},state,{index:state.index+1,routes:[].concat(_toConsumableArray(state.routes),[{key:action.payload.key===undefined?action.payload.name+\"-\"+shortid():action.payload.key,name:action.payload.name,params:action.payload.params}])});}return null;case'POP':{var index=action.target===state.key&&action.source?state.routes.findIndex(function(r){return r.key===action.source;}):state.index;if(index>0){var routes=state.routes.slice(0,Math.max(index-action.payload.count+1,1));return _objectSpread({},state,{index:routes.length-1,routes:routes});}return null;}case'POP_TO_TOP':return router.getStateForAction(state,{type:'POP',payload:{count:state.routes.length-1}});case'NAVIGATE':if(action.payload.key||action.payload.name&&state.routeNames.includes(action.payload.name)){var _index=-1;if(state.routes[state.index].name===action.payload.name&&action.payload.key===undefined||state.routes[state.index].key===action.payload.key){_index=state.index;}else{for(var i=state.routes.length-1;i>=0;i--){if(state.routes[i].name===action.payload.name&&action.payload.key===undefined||state.routes[i].key===action.payload.key){_index=i;break;}}}if(_index===-1&&action.payload.key&&action.payload.name===undefined){return null;}if(_index===-1&&action.payload.name!==undefined){return router.getStateForAction(state,{type:'PUSH',payload:{key:action.payload.key,name:action.payload.name,params:action.payload.params}});}return _objectSpread({},state,{index:_index,routes:[].concat(_toConsumableArray(state.routes.slice(0,_index)),[action.payload.params!==undefined?_objectSpread({},state.routes[_index],{params:_objectSpread({},state.routes[_index].params,{},action.payload.params)}):state.routes[_index]])});}return null;case'GO_BACK':if(state.index>0){return router.getStateForAction(state,{type:'POP',payload:{count:1},target:action.target,source:action.source});}return null;default:return BaseRouter.getStateForAction(state,action);}},actionCreators:StackActions});return router;}\n//# sourceMappingURL=StackRouter.js.map"]},"metadata":{},"sourceType":"module"}