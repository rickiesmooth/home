{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{ACTION_TYPES}from\"./interfaces\";export var initialState={loading:true,things:[],error:null};var updateProperty=function updateProperty(things,thing){return things.map(function(item){if(item.id!==thing.id){return item;}return thing;});};export var reducer=function reducer(state,action){switch(action.type){case ACTION_TYPES.THINGS_INIT:var things=action.data.things;return _objectSpread({},state,{things:_toConsumableArray(things||[]),loading:false});case ACTION_TYPES.PROPERTIES_UPDATE:return _objectSpread({},state,{things:updateProperty(state.things,action.data)});default:throw new Error();}};","map":{"version":3,"sources":["/home/rick/dev/cool-home/src/store/things/reducers.tsx"],"names":["ACTION_TYPES","initialState","loading","things","error","updateProperty","thing","map","item","id","reducer","state","action","type","THINGS_INIT","data","PROPERTIES_UPDATE","Error"],"mappings":"w5BAAA,OAAwBA,YAAxB,oBAEA,MAAO,IAAMC,CAAAA,YAAmB,CAAG,CACjCC,OAAO,CAAE,IADwB,CAEjCC,MAAM,CAAE,EAFyB,CAGjCC,KAAK,CAAE,IAH0B,CAA5B,CAMP,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACF,MAAD,CAAuBG,KAAvB,QACrBH,CAAAA,MAAM,CAACI,GAAP,CAAW,SAAAC,IAAI,CAAI,CACjB,GAAIA,IAAI,CAACC,EAAL,GAAYH,KAAK,CAACG,EAAtB,CAA0B,CACxB,MAAOD,CAAAA,IAAP,CACD,CACD,MAAOF,CAAAA,KAAP,CACD,CALD,CADqB,EAAvB,CAQA,MAAO,IAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAeC,MAAf,CAAyC,CAC9D,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKb,CAAAA,YAAY,CAACc,WAAlB,IACUX,CAAAA,MADV,CACqBS,MAAM,CAACG,IAD5B,CACUZ,MADV,CAEE,wBACKQ,KADL,EAEER,MAAM,oBAAOA,MAAM,EAAI,EAAjB,CAFR,CAGED,OAAO,CAAE,KAHX,GAMF,IAAKF,CAAAA,YAAY,CAACgB,iBAAlB,CACE,wBACKL,KADL,EAEER,MAAM,CAAEE,cAAc,CAACM,KAAK,CAACR,MAAP,CAAgBS,MAAM,CAACG,IAAvB,CAFxB,GAIF,QACE,KAAM,IAAIE,CAAAA,KAAJ,EAAN,CAfJ,CAiBD,CAlBM","sourcesContent":["import { State, Action, ACTION_TYPES, ThingModel } from \"./interfaces\";\n\nexport const initialState: State = {\n  loading: true,\n  things: [],\n  error: null\n};\n\nconst updateProperty = (things: ThingModel[], thing: ThingModel) =>\n  things.map(item => {\n    if (item.id !== thing.id) {\n      return item;\n    }\n    return thing;\n  });\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case ACTION_TYPES.THINGS_INIT:\n      const { things } = action.data;\n      return {\n        ...state,\n        things: [...(things || [])],\n        loading: false\n      };\n\n    case ACTION_TYPES.PROPERTIES_UPDATE:\n      return {\n        ...state,\n        things: updateProperty(state.things!, action.data)\n      };\n    default:\n      throw new Error();\n  }\n};\n"]},"metadata":{},"sourceType":"module"}