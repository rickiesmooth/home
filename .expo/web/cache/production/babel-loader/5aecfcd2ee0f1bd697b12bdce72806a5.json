{"ast":null,"code":"import*as React from'react';import NavigationContext from\"./NavigationContext\";export default function useFocusEvents(_ref){var state=_ref.state,emitter=_ref.emitter;var navigation=React.useContext(NavigationContext);var lastFocusedKeyRef=React.useRef();var currentFocusedKey=state.routes[state.index].key;React.useEffect(function(){return navigation&&navigation.addListener('focus',function(){return emitter.emit({type:'focus',target:currentFocusedKey});});},[currentFocusedKey,emitter,navigation]);React.useEffect(function(){return navigation&&navigation.addListener('blur',function(){return emitter.emit({type:'blur',target:currentFocusedKey});});},[currentFocusedKey,emitter,navigation]);React.useEffect(function(){var lastFocusedKey=lastFocusedKeyRef.current;lastFocusedKeyRef.current=currentFocusedKey;if(lastFocusedKey===undefined&&!navigation){emitter.emit({type:'focus',target:currentFocusedKey});}if(lastFocusedKey===currentFocusedKey||!(navigation?navigation.isFocused():true)){return;}if(lastFocusedKey===undefined){return;}emitter.emit({type:'focus',target:currentFocusedKey});emitter.emit({type:'blur',target:lastFocusedKey});},[currentFocusedKey,emitter,navigation]);}","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/core/lib/module/useFocusEvents.js"],"names":["React","NavigationContext","useFocusEvents","_ref","state","emitter","navigation","useContext","lastFocusedKeyRef","useRef","currentFocusedKey","routes","index","key","useEffect","addListener","emit","type","target","lastFocusedKey","current","undefined","isFocused"],"mappings":"AAAA,MAAM,GAAIA,CAAAA,KAAV,KAAoB,OAApB,CAA4B,MAAOC,CAAAA,iBAAP,2BAAmD,cAAe,SAASC,CAAAA,cAAT,CAAwBC,IAAxB,CAA6B,CAAC,GAAIC,CAAAA,KAAK,CAACD,IAAI,CAACC,KAAf,CAAqBC,OAAO,CAACF,IAAI,CAACE,OAAlC,CAA0C,GAAIC,CAAAA,UAAU,CAACN,KAAK,CAACO,UAAN,CAAiBN,iBAAjB,CAAf,CAAmD,GAAIO,CAAAA,iBAAiB,CAACR,KAAK,CAACS,MAAN,EAAtB,CAAqC,GAAIC,CAAAA,iBAAiB,CAACN,KAAK,CAACO,MAAN,CAAaP,KAAK,CAACQ,KAAnB,EAA0BC,GAAhD,CAAoDb,KAAK,CAACc,SAAN,CAAgB,UAAU,CAAC,MAAOR,CAAAA,UAAU,EAAEA,UAAU,CAACS,WAAX,CAAuB,OAAvB,CAA+B,UAAU,CAAC,MAAOV,CAAAA,OAAO,CAACW,IAAR,CAAa,CAACC,IAAI,CAAC,OAAN,CAAcC,MAAM,CAACR,iBAArB,CAAb,CAAP,CAA8D,CAAxG,CAAnB,CAA8H,CAAzJ,CAA0J,CAACA,iBAAD,CAAmBL,OAAnB,CAA2BC,UAA3B,CAA1J,EAAkMN,KAAK,CAACc,SAAN,CAAgB,UAAU,CAAC,MAAOR,CAAAA,UAAU,EAAEA,UAAU,CAACS,WAAX,CAAuB,MAAvB,CAA8B,UAAU,CAAC,MAAOV,CAAAA,OAAO,CAACW,IAAR,CAAa,CAACC,IAAI,CAAC,MAAN,CAAaC,MAAM,CAACR,iBAApB,CAAb,CAAP,CAA6D,CAAtG,CAAnB,CAA4H,CAAvJ,CAAwJ,CAACA,iBAAD,CAAmBL,OAAnB,CAA2BC,UAA3B,CAAxJ,EAAgMN,KAAK,CAACc,SAAN,CAAgB,UAAU,CAAC,GAAIK,CAAAA,cAAc,CAACX,iBAAiB,CAACY,OAArC,CAA6CZ,iBAAiB,CAACY,OAAlB,CAA0BV,iBAA1B,CAA4C,GAAGS,cAAc,GAAGE,SAAjB,EAA4B,CAACf,UAAhC,CAA2C,CAACD,OAAO,CAACW,IAAR,CAAa,CAACC,IAAI,CAAC,OAAN,CAAcC,MAAM,CAACR,iBAArB,CAAb,EAAuD,IAAGS,cAAc,GAAGT,iBAAjB,EAAoC,EAAEJ,UAAU,CAACA,UAAU,CAACgB,SAAX,EAAD,CAAwB,IAApC,CAAvC,CAAiF,CAAC,OAAQ,IAAGH,cAAc,GAAGE,SAApB,CAA8B,CAAC,OAAQ,CAAAhB,OAAO,CAACW,IAAR,CAAa,CAACC,IAAI,CAAC,OAAN,CAAcC,MAAM,CAACR,iBAArB,CAAb,EAAsDL,OAAO,CAACW,IAAR,CAAa,CAACC,IAAI,CAAC,MAAN,CAAaC,MAAM,CAACC,cAApB,CAAb,EAAmD,CAAjc,CAAkc,CAACT,iBAAD,CAAmBL,OAAnB,CAA2BC,UAA3B,CAAlc,EAA2e","sourcesContent":["import*as React from'react';import NavigationContext from'./NavigationContext';export default function useFocusEvents(_ref){var state=_ref.state,emitter=_ref.emitter;var navigation=React.useContext(NavigationContext);var lastFocusedKeyRef=React.useRef();var currentFocusedKey=state.routes[state.index].key;React.useEffect(function(){return navigation&&navigation.addListener('focus',function(){return emitter.emit({type:'focus',target:currentFocusedKey});});},[currentFocusedKey,emitter,navigation]);React.useEffect(function(){return navigation&&navigation.addListener('blur',function(){return emitter.emit({type:'blur',target:currentFocusedKey});});},[currentFocusedKey,emitter,navigation]);React.useEffect(function(){var lastFocusedKey=lastFocusedKeyRef.current;lastFocusedKeyRef.current=currentFocusedKey;if(lastFocusedKey===undefined&&!navigation){emitter.emit({type:'focus',target:currentFocusedKey});}if(lastFocusedKey===currentFocusedKey||!(navigation?navigation.isFocused():true)){return;}if(lastFocusedKey===undefined){return;}emitter.emit({type:'focus',target:currentFocusedKey});emitter.emit({type:'blur',target:lastFocusedKey});},[currentFocusedKey,emitter,navigation]);}\n//# sourceMappingURL=useFocusEvents.js.map"]},"metadata":{},"sourceType":"module"}