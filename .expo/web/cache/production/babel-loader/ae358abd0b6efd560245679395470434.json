{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _taggedTemplateLiteralLoose from\"@babel/runtime/helpers/taggedTemplateLiteralLoose\";function _templateObject(){var data=_taggedTemplateLiteralLoose([\"\\n  \",\"\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from\"react\";import gql from\"graphql-tag\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Button from\"react-native-web/dist/exports/Button\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{Container}from\"../components/Elements/Container/Container\";import{useMutation}from\"@apollo/react-hooks\";import{updateUser}from\"../graphql/mutations\";import{UserContext}from\"../store/user\";import Auth from\"@aws-amplify/auth\";import{Input}from\"../components/Elements/Input/Input\";var UPDATE_USER=gql(_templateObject(),updateUser);export var Settings=function Settings(){var settings=[\"Domain\",\"Network\",\"Updates\",\"Authorizations\",\"Experiments\",\"Developer\"];var _React$useContext=React.useContext(UserContext),state=_React$useContext.state;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),hubToken=_React$useState2[0],handleChangeText=_React$useState2[1];var _useMutation=useMutation(UPDATE_USER),_useMutation2=_slicedToArray(_useMutation,1),updateUser=_useMutation2[0];var id=state.id;React.useEffect(function(){handleChangeText(state.hubToken);},[state.hubToken]);return React.createElement(Container,null,React.createElement(View,null,React.createElement(View,null,React.createElement(Input,{value:hubToken,placeholder:\"token\",onChangeText:handleChangeText}),React.createElement(Button,{title:\"submit\",onPress:function onPress(){return updateUser({variables:{input:{id:id,hubToken:hubToken}}});}})),settings.map(function(setting,i){return React.createElement(Text,{key:i,style:styles.setting},setting);}),React.createElement(TouchableOpacity,{onPress:function onPress(){return Auth.signOut();}},React.createElement(Text,{style:styles.setting},\"Logout\"))));};var styles=StyleSheet.create({setting:{paddingVertical:8,fontSize:16}});","map":{"version":3,"sources":["/home/rick/dev/cool-home/src/screens/Settings.tsx"],"names":["React","gql","Container","useMutation","updateUser","UserContext","Auth","Input","UPDATE_USER","Settings","settings","useContext","state","useState","hubToken","handleChangeText","id","useEffect","variables","input","map","setting","i","styles","signOut","StyleSheet","create","paddingVertical","fontSize"],"mappings":"iTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,aAAhB,C,iTAEA,OAASC,SAAT,kDACA,OAASC,WAAT,KAA4B,qBAA5B,CAEA,OAASC,UAAT,4BACA,OAASC,WAAT,qBACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,OAASC,KAAT,0CAEA,GAAMC,CAAAA,WAAW,CAAGP,GAAH,mBACbG,UADa,CAAjB,CAIA,MAAO,IAAMK,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC5B,GAAMC,CAAAA,QAAQ,CAAG,CACf,QADe,CAEf,SAFe,CAGf,SAHe,CAIf,gBAJe,CAKf,aALe,CAMf,WANe,CAAjB,CAD4B,sBASVV,KAAK,CAACW,UAAN,CAAiBN,WAAjB,CATU,CASpBO,KAToB,mBASpBA,KAToB,qBAUSZ,KAAK,CAACa,QAAN,CAAe,EAAf,CAVT,oDAUrBC,QAVqB,qBAUXC,gBAVW,sCAWPZ,WAAW,CAA8BK,WAA9B,CAXJ,8CAWrBJ,UAXqB,qBAYpBY,CAAAA,EAZoB,CAYbJ,KAZa,CAYpBI,EAZoB,CAc5BhB,KAAK,CAACiB,SAAN,CAAgB,UAAM,CACpBF,gBAAgB,CAACH,KAAK,CAACE,QAAP,CAAhB,CACD,CAFD,CAEG,CAACF,KAAK,CAACE,QAAP,CAFH,EAIA,MACE,qBAAC,SAAD,MACE,oBAAC,IAAD,MACE,oBAAC,IAAD,MACE,oBAAC,KAAD,EACE,KAAK,CAAEA,QADT,CAEE,WAAW,CAAC,OAFd,CAGE,YAAY,CAAEC,gBAHhB,EADF,CAME,oBAAC,MAAD,EACE,KAAK,CAAC,QADR,CAEE,OAAO,CAAE,yBACPX,CAAAA,UAAU,CAAC,CAAEc,SAAS,CAAE,CAAEC,KAAK,CAAE,CAAEH,EAAE,CAAFA,EAAF,CAAMF,QAAQ,CAARA,QAAN,CAAT,CAAb,CAAD,CADH,EAFX,EANF,CADF,CAcGJ,QAAQ,CAACU,GAAT,CAAa,SAACC,OAAD,CAAUC,CAAV,QACZ,qBAAC,IAAD,EAAM,GAAG,CAAEA,CAAX,CAAc,KAAK,CAAEC,MAAM,CAACF,OAA5B,EACGA,OADH,CADY,EAAb,CAdH,CAmBE,oBAAC,gBAAD,EAAkB,OAAO,CAAE,yBAAMf,CAAAA,IAAI,CAACkB,OAAL,EAAN,EAA3B,EACE,oBAAC,IAAD,EAAM,KAAK,CAAED,MAAM,CAACF,OAApB,WADF,CAnBF,CADF,CADF,CA2BD,CA7CM,CA+CP,GAAME,CAAAA,MAAM,CAAGE,UAAU,CAACC,MAAX,CAAkB,CAC/BL,OAAO,CAAE,CACPM,eAAe,CAAE,CADV,CAEPC,QAAQ,CAAE,EAFH,CADsB,CAAlB,CAAf","sourcesContent":["import React from \"react\";\nimport gql from \"graphql-tag\";\nimport { Text, View, StyleSheet, Button, TouchableOpacity } from \"react-native\";\nimport { Container } from \"../components/Elements/Container/Container\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { UpdateUserMutationVariables } from \"../graphql/API\";\nimport { updateUser } from \"../graphql/mutations\";\nimport { UserContext } from \"../store/user\";\nimport Auth from \"@aws-amplify/auth\";\nimport { Input } from \"../components/Elements/Input/Input\";\n\nconst UPDATE_USER = gql`\n  ${updateUser}\n`;\n\nexport const Settings = () => {\n  const settings = [\n    \"Domain\",\n    \"Network\",\n    \"Updates\",\n    \"Authorizations\",\n    \"Experiments\",\n    \"Developer\"\n  ];\n  const { state } = React.useContext(UserContext);\n  const [hubToken, handleChangeText] = React.useState(\"\");\n  const [updateUser] = useMutation<UpdateUserMutationVariables>(UPDATE_USER);\n  const { id } = state;\n\n  React.useEffect(() => {\n    handleChangeText(state.hubToken);\n  }, [state.hubToken]);\n\n  return (\n    <Container>\n      <View>\n        <View>\n          <Input\n            value={hubToken}\n            placeholder=\"token\"\n            onChangeText={handleChangeText}\n          />\n          <Button\n            title=\"submit\"\n            onPress={() =>\n              updateUser({ variables: { input: { id, hubToken } } })\n            }\n          />\n        </View>\n        {settings.map((setting, i) => (\n          <Text key={i} style={styles.setting}>\n            {setting}\n          </Text>\n        ))}\n        <TouchableOpacity onPress={() => Auth.signOut()}>\n          <Text style={styles.setting}>Logout</Text>\n        </TouchableOpacity>\n      </View>\n    </Container>\n  );\n};\n\nconst styles = StyleSheet.create({\n  setting: {\n    paddingVertical: 8,\n    fontSize: 16\n  }\n});\n"]},"metadata":{},"sourceType":"module"}