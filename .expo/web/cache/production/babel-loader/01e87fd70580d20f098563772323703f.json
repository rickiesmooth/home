{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";var _jsxFileName=\"/Users/osdnk/work/navigation-ex/packages/stack/src/views/Header/HeaderBackButton.tsx\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Image from\"react-native-web/dist/exports/Image\";import View from\"react-native-web/dist/exports/View\";import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Animated from'react-native-reanimated';import MaskedView from\"../MaskedView\";import TouchableItem from\"../TouchableItem\";var HeaderBackButton=function(_React$Component){_inherits(HeaderBackButton,_React$Component);function HeaderBackButton(){var _getPrototypeOf2;var _this;_classCallCheck(this,HeaderBackButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(HeaderBackButton)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={};_this.handleLabelLayout=function(e){var onLabelLayout=_this.props.onLabelLayout;onLabelLayout&&onLabelLayout(e);_this.setState({fullLabelWidth:e.nativeEvent.layout.x+e.nativeEvent.layout.width});};_this.shouldTruncateLabel=function(){var _this$props=_this.props,titleLayout=_this$props.titleLayout,screenLayout=_this$props.screenLayout,label=_this$props.label;var initialLabelWidth=_this.state.fullLabelWidth;return!label||initialLabelWidth&&titleLayout&&screenLayout&&(screenLayout.width-titleLayout.width)/2<initialLabelWidth+26;};_this.renderBackImage=function(){var _this$props2=_this.props,backImage=_this$props2.backImage,labelVisible=_this$props2.labelVisible,tintColor=_this$props2.tintColor;if(backImage){return backImage({tintColor:tintColor});}else{return React.createElement(Image,{style:[styles.icon,Boolean(labelVisible)&&styles.iconWithLabel,Boolean(tintColor)&&{tintColor:tintColor}],source:require(\"../assets/back-icon.png\"),fadeDuration:0,__source:{fileName:_jsxFileName,lineNumber:66}});}};_this.handlePress=function(){return _this.props.onPress&&requestAnimationFrame(_this.props.onPress);};return _this;}_createClass(HeaderBackButton,[{key:\"renderLabel\",value:function renderLabel(){var _this$props3=this.props,label=_this$props3.label,truncatedLabel=_this$props3.truncatedLabel,allowFontScaling=_this$props3.allowFontScaling,labelVisible=_this$props3.labelVisible,backImage=_this$props3.backImage,labelStyle=_this$props3.labelStyle,tintColor=_this$props3.tintColor,screenLayout=_this$props3.screenLayout;var leftLabelText=this.shouldTruncateLabel()?truncatedLabel:label;if(!labelVisible||leftLabelText===undefined){return null;}var labelElement=React.createElement(View,{style:screenLayout?[styles.labelWrapper,{minWidth:screenLayout.width/2-27}]:null,__source:{fileName:_jsxFileName,lineNumber:98}},React.createElement(Animated.Text,{accessible:false,onLayout:leftLabelText===label?this.handleLabelLayout:undefined,style:[styles.label,tintColor?{color:tintColor}:null,labelStyle],numberOfLines:1,allowFontScaling:!!allowFontScaling,__source:{fileName:_jsxFileName,lineNumber:107}},leftLabelText));if(backImage||Platform.OS!=='ios'){return labelElement;}return React.createElement(MaskedView,{maskElement:React.createElement(View,{style:styles.iconMaskContainer,__source:{fileName:_jsxFileName,lineNumber:136}},React.createElement(Image,{source:require(\"../assets/back-icon-mask.png\"),style:styles.iconMask,__source:{fileName:_jsxFileName,lineNumber:137}}),React.createElement(View,{style:styles.iconMaskFillerRect,__source:{fileName:_jsxFileName,lineNumber:141}})),__source:{fileName:_jsxFileName,lineNumber:134}},labelElement);}},{key:\"render\",value:function render(){var _this$props4=this.props,pressColorAndroid=_this$props4.pressColorAndroid,label=_this$props4.label,disabled=_this$props4.disabled;return React.createElement(TouchableItem,{disabled:disabled,accessible:true,accessibilityRole:\"button\",accessibilityComponentType:\"button\",accessibilityLabel:label&&label!=='Back'?label+\", back\":'Go back',accessibilityTraits:\"button\",testID:\"header-back\",delayPressIn:0,onPress:disabled?undefined:this.handlePress,pressColor:pressColorAndroid,style:[styles.container,disabled&&styles.disabled],hitSlop:Platform.select({ios:undefined,default:{top:8,right:8,bottom:8,left:8}}),borderless:true,__source:{fileName:_jsxFileName,lineNumber:157}},React.createElement(React.Fragment,{__source:{fileName:_jsxFileName,lineNumber:177}},this.renderBackImage(),this.renderLabel()));}}]);return HeaderBackButton;}(React.Component);HeaderBackButton.defaultProps={pressColorAndroid:'rgba(0, 0, 0, .32)',tintColor:Platform.select({ios:'#037aff',web:'#5f6368'}),labelVisible:Platform.OS==='ios',truncatedLabel:'Back'};var styles=StyleSheet.create({container:_objectSpread({alignItems:'center',flexDirection:'row'},Platform.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})),disabled:{opacity:0.5},label:{fontSize:17,letterSpacing:0.35},labelWrapper:{flexDirection:'row',alignItems:'flex-start'},icon:Platform.select({ios:{height:21,width:13,marginLeft:8,marginRight:22,marginVertical:12,resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]},default:{height:24,width:24,margin:3,resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]}}),iconWithLabel:Platform.OS==='ios'?{marginRight:6}:{},iconMaskContainer:{flex:1,flexDirection:'row',justifyContent:'center'},iconMaskFillerRect:{flex:1,backgroundColor:'#000'},iconMask:{height:21,width:13,marginLeft:-14.5,marginVertical:12,alignSelf:'center',resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]}});export default HeaderBackButton;","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/stack/lib/module/views/Header/HeaderBackButton.js"],"names":["_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_jsxFileName","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","Animated","MaskedView","TouchableItem","HeaderBackButton","_React$Component","_getPrototypeOf2","_this","_len","args","Array","_key","call","concat","state","handleLabelLayout","e","onLabelLayout","props","setState","fullLabelWidth","nativeEvent","layout","x","width","shouldTruncateLabel","_this$props","titleLayout","screenLayout","label","initialLabelWidth","renderBackImage","_this$props2","backImage","labelVisible","tintColor","createElement","Image","style","styles","icon","Boolean","iconWithLabel","require","fadeDuration","__source","fileName","lineNumber","handlePress","onPress","requestAnimationFrame","value","renderLabel","_this$props3","truncatedLabel","allowFontScaling","labelStyle","leftLabelText","undefined","labelElement","View","labelWrapper","minWidth","Text","accessible","onLayout","color","numberOfLines","Platform","OS","maskElement","iconMaskContainer","iconMask","iconMaskFillerRect","render","_this$props4","pressColorAndroid","disabled","accessibilityRole","accessibilityComponentType","accessibilityLabel","accessibilityTraits","testID","delayPressIn","pressColor","container","hitSlop","select","ios","default","top","right","bottom","left","borderless","Fragment","Component","defaultProps","web","StyleSheet","create","alignItems","flexDirection","marginVertical","marginHorizontal","opacity","fontSize","letterSpacing","height","marginLeft","marginRight","resizeMode","transform","scaleX","I18nManager","isRTL","margin","flex","justifyContent","backgroundColor","alignSelf"],"mappings":"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","sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";var _jsxFileName=\"/Users/osdnk/work/navigation-ex/packages/stack/src/views/Header/HeaderBackButton.tsx\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import{I18nManager,Image,View,Platform,StyleSheet}from'react-native';import Animated from'react-native-reanimated';import MaskedView from'../MaskedView';import TouchableItem from'../TouchableItem';var HeaderBackButton=function(_React$Component){_inherits(HeaderBackButton,_React$Component);function HeaderBackButton(){var _getPrototypeOf2;var _this;_classCallCheck(this,HeaderBackButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(HeaderBackButton)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={};_this.handleLabelLayout=function(e){var onLabelLayout=_this.props.onLabelLayout;onLabelLayout&&onLabelLayout(e);_this.setState({fullLabelWidth:e.nativeEvent.layout.x+e.nativeEvent.layout.width});};_this.shouldTruncateLabel=function(){var _this$props=_this.props,titleLayout=_this$props.titleLayout,screenLayout=_this$props.screenLayout,label=_this$props.label;var initialLabelWidth=_this.state.fullLabelWidth;return!label||initialLabelWidth&&titleLayout&&screenLayout&&(screenLayout.width-titleLayout.width)/2<initialLabelWidth+26;};_this.renderBackImage=function(){var _this$props2=_this.props,backImage=_this$props2.backImage,labelVisible=_this$props2.labelVisible,tintColor=_this$props2.tintColor;if(backImage){return backImage({tintColor:tintColor});}else{return React.createElement(Image,{style:[styles.icon,Boolean(labelVisible)&&styles.iconWithLabel,Boolean(tintColor)&&{tintColor:tintColor}],source:require('../assets/back-icon.png'),fadeDuration:0,__source:{fileName:_jsxFileName,lineNumber:66}});}};_this.handlePress=function(){return _this.props.onPress&&requestAnimationFrame(_this.props.onPress);};return _this;}_createClass(HeaderBackButton,[{key:\"renderLabel\",value:function renderLabel(){var _this$props3=this.props,label=_this$props3.label,truncatedLabel=_this$props3.truncatedLabel,allowFontScaling=_this$props3.allowFontScaling,labelVisible=_this$props3.labelVisible,backImage=_this$props3.backImage,labelStyle=_this$props3.labelStyle,tintColor=_this$props3.tintColor,screenLayout=_this$props3.screenLayout;var leftLabelText=this.shouldTruncateLabel()?truncatedLabel:label;if(!labelVisible||leftLabelText===undefined){return null;}var labelElement=React.createElement(View,{style:screenLayout?[styles.labelWrapper,{minWidth:screenLayout.width/2-27}]:null,__source:{fileName:_jsxFileName,lineNumber:98}},React.createElement(Animated.Text,{accessible:false,onLayout:leftLabelText===label?this.handleLabelLayout:undefined,style:[styles.label,tintColor?{color:tintColor}:null,labelStyle],numberOfLines:1,allowFontScaling:!!allowFontScaling,__source:{fileName:_jsxFileName,lineNumber:107}},leftLabelText));if(backImage||Platform.OS!=='ios'){return labelElement;}return React.createElement(MaskedView,{maskElement:React.createElement(View,{style:styles.iconMaskContainer,__source:{fileName:_jsxFileName,lineNumber:136}},React.createElement(Image,{source:require('../assets/back-icon-mask.png'),style:styles.iconMask,__source:{fileName:_jsxFileName,lineNumber:137}}),React.createElement(View,{style:styles.iconMaskFillerRect,__source:{fileName:_jsxFileName,lineNumber:141}})),__source:{fileName:_jsxFileName,lineNumber:134}},labelElement);}},{key:\"render\",value:function render(){var _this$props4=this.props,pressColorAndroid=_this$props4.pressColorAndroid,label=_this$props4.label,disabled=_this$props4.disabled;return React.createElement(TouchableItem,{disabled:disabled,accessible:true,accessibilityRole:\"button\",accessibilityComponentType:\"button\",accessibilityLabel:label&&label!=='Back'?label+\", back\":'Go back',accessibilityTraits:\"button\",testID:\"header-back\",delayPressIn:0,onPress:disabled?undefined:this.handlePress,pressColor:pressColorAndroid,style:[styles.container,disabled&&styles.disabled],hitSlop:Platform.select({ios:undefined,default:{top:8,right:8,bottom:8,left:8}}),borderless:true,__source:{fileName:_jsxFileName,lineNumber:157}},React.createElement(React.Fragment,{__source:{fileName:_jsxFileName,lineNumber:177}},this.renderBackImage(),this.renderLabel()));}}]);return HeaderBackButton;}(React.Component);HeaderBackButton.defaultProps={pressColorAndroid:'rgba(0, 0, 0, .32)',tintColor:Platform.select({ios:'#037aff',web:'#5f6368'}),labelVisible:Platform.OS==='ios',truncatedLabel:'Back'};var styles=StyleSheet.create({container:_objectSpread({alignItems:'center',flexDirection:'row'},Platform.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})),disabled:{opacity:0.5},label:{fontSize:17,letterSpacing:0.35},labelWrapper:{flexDirection:'row',alignItems:'flex-start'},icon:Platform.select({ios:{height:21,width:13,marginLeft:8,marginRight:22,marginVertical:12,resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]},default:{height:24,width:24,margin:3,resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]}}),iconWithLabel:Platform.OS==='ios'?{marginRight:6}:{},iconMaskContainer:{flex:1,flexDirection:'row',justifyContent:'center'},iconMaskFillerRect:{flex:1,backgroundColor:'#000'},iconMask:{height:21,width:13,marginLeft:-14.5,marginVertical:12,alignSelf:'center',resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]}});export default HeaderBackButton;\n//# sourceMappingURL=HeaderBackButton.js.map"]},"metadata":{},"sourceType":"module"}