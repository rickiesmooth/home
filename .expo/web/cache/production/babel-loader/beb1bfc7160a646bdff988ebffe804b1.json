{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _jsxFileName=\"/Users/satya/Workspace/Projects/navigation-ex/packages/core/src/NavigationContainer.tsx\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import*as CommonActions from\"./CommonActions\";import EnsureSingleNavigator from\"./EnsureSingleNavigator\";import NavigationBuilderContext from\"./NavigationBuilderContext\";import ResetRootContext from\"./ResetRootContext\";import useFocusedListeners from\"./useFocusedListeners\";import useDevTools from\"./useDevTools\";import useStateGetters from\"./useStateGetters\";var MISSING_CONTEXT_ERROR=\"We couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'?\";export var NavigationStateContext=React.createContext({get getState(){throw new Error(MISSING_CONTEXT_ERROR);},get setState(){throw new Error(MISSING_CONTEXT_ERROR);},get performTransaction(){throw new Error(MISSING_CONTEXT_ERROR);}});var getPartialState=function getPartialState(state){if(state===undefined){return;}var key=state.key,routeNames=state.routeNames,partialState=_objectWithoutProperties(state,[\"key\",\"routeNames\"]);return _objectSpread({},partialState,{stale:true,routes:state.routes.map(function(route){if(route.state===undefined){return route;}return _objectSpread({},route,{state:getPartialState(route.state)});})});};var Container=React.forwardRef(function NavigationContainer(_ref,ref){var initialState=_ref.initialState,onStateChange=_ref.onStateChange,children=_ref.children;var _React$useState=React.useState(function(){return getPartialState(initialState);}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setNavigationState=_React$useState2[1];var navigationStateRef=React.useRef();var transactionStateRef=React.useRef(null);var isTransactionActiveRef=React.useRef(false);var isFirstMountRef=React.useRef(true);var skipTrackingRef=React.useRef(false);var reset=React.useCallback(function(state){skipTrackingRef.current=true;setNavigationState(state);},[]);var _useDevTools=useDevTools({name:'@react-navigation',reset:reset,state:state}),trackState=_useDevTools.trackState,trackAction=_useDevTools.trackAction;var _useFocusedListeners=useFocusedListeners(),listeners=_useFocusedListeners.listeners,addFocusedListener=_useFocusedListeners.addListener;var _useStateGetters=useStateGetters(),getStateForRoute=_useStateGetters.getStateForRoute,addStateGetter=_useStateGetters.addStateGetter;var dispatch=function dispatch(action){listeners[0](function(navigation){return navigation.dispatch(action);});};var canGoBack=function canGoBack(){var _listeners$=listeners[0](function(navigation){return navigation.canGoBack();}),result=_listeners$.result,handled=_listeners$.handled;if(handled){return result;}else{return false;}};var resetRoot=React.useCallback(function(state){trackAction('@@RESET_ROOT');setNavigationState(state);},[trackAction]);var getRootState=function getRootState(){return getStateForRoute('root');};React.useImperativeHandle(ref,function(){return _objectSpread({},Object.keys(CommonActions).reduce(function(acc,name){acc[name]=function(){return dispatch(CommonActions[name].apply(CommonActions,arguments));};return acc;},{}),{resetRoot:resetRoot,dispatch:dispatch,canGoBack:canGoBack,getRootState:getRootState});});var builderContext=React.useMemo(function(){return{addFocusedListener:addFocusedListener,addStateGetter:addStateGetter,trackAction:trackAction};},[addFocusedListener,trackAction,addStateGetter]);var performTransaction=React.useCallback(function(callback){if(isTransactionActiveRef.current){throw new Error(\"Only one transaction can be active at a time. Did you accidentally nest 'performTransaction'?\");}setNavigationState(function(navigationState){isTransactionActiveRef.current=true;transactionStateRef.current=navigationState;callback();isTransactionActiveRef.current=false;return transactionStateRef.current;});},[]);var getState=React.useCallback(function(){return transactionStateRef.current!==null?transactionStateRef.current:navigationStateRef.current;},[]);var setState=React.useCallback(function(navigationState){if(transactionStateRef.current===null){throw new Error(\"Any 'setState' calls need to be done inside 'performTransaction'\");}transactionStateRef.current=navigationState;},[]);var context=React.useMemo(function(){return{state:state,performTransaction:performTransaction,getState:getState,setState:setState};},[getState,performTransaction,setState,state]);React.useEffect(function(){if(skipTrackingRef.current){skipTrackingRef.current=false;}else{trackState(state);}navigationStateRef.current=state;transactionStateRef.current=null;if(!isFirstMountRef.current&&onStateChange){onStateChange(state);}isFirstMountRef.current=false;},[state,onStateChange,trackState]);return React.createElement(NavigationBuilderContext.Provider,{value:builderContext,__source:{fileName:_jsxFileName,lineNumber:237}},React.createElement(NavigationStateContext.Provider,{value:context,__source:{fileName:_jsxFileName,lineNumber:238}},React.createElement(ResetRootContext.Provider,{value:resetRoot,__source:{fileName:_jsxFileName,lineNumber:239}},React.createElement(EnsureSingleNavigator,{__source:{fileName:_jsxFileName,lineNumber:240}},children))));});export default Container;","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/core/lib/module/NavigationContainer.js"],"names":["_slicedToArray","_defineProperty","_objectWithoutProperties","_jsxFileName","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","CommonActions","EnsureSingleNavigator","NavigationBuilderContext","ResetRootContext","useFocusedListeners","useDevTools","useStateGetters","MISSING_CONTEXT_ERROR","NavigationStateContext","createContext","getState","Error","setState","performTransaction","getPartialState","state","undefined","routeNames","partialState","stale","routes","map","route","Container","forwardRef","NavigationContainer","_ref","ref","initialState","onStateChange","children","_React$useState","useState","_React$useState2","setNavigationState","navigationStateRef","useRef","transactionStateRef","isTransactionActiveRef","isFirstMountRef","skipTrackingRef","reset","useCallback","current","_useDevTools","name","trackState","trackAction","_useFocusedListeners","listeners","addFocusedListener","addListener","_useStateGetters","getStateForRoute","addStateGetter","dispatch","action","navigation","canGoBack","_listeners$","result","handled","resetRoot","getRootState","useImperativeHandle","reduce","acc","builderContext","useMemo","callback","navigationState","context","useEffect","createElement","Provider","value","__source","fileName","lineNumber"],"mappings":"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","sourcesContent":["import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _jsxFileName=\"/Users/satya/Workspace/Projects/navigation-ex/packages/core/src/NavigationContainer.tsx\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import*as CommonActions from'./CommonActions';import EnsureSingleNavigator from'./EnsureSingleNavigator';import NavigationBuilderContext from'./NavigationBuilderContext';import ResetRootContext from'./ResetRootContext';import useFocusedListeners from'./useFocusedListeners';import useDevTools from'./useDevTools';import useStateGetters from'./useStateGetters';var MISSING_CONTEXT_ERROR=\"We couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'?\";export var NavigationStateContext=React.createContext({get getState(){throw new Error(MISSING_CONTEXT_ERROR);},get setState(){throw new Error(MISSING_CONTEXT_ERROR);},get performTransaction(){throw new Error(MISSING_CONTEXT_ERROR);}});var getPartialState=function getPartialState(state){if(state===undefined){return;}var key=state.key,routeNames=state.routeNames,partialState=_objectWithoutProperties(state,[\"key\",\"routeNames\"]);return _objectSpread({},partialState,{stale:true,routes:state.routes.map(function(route){if(route.state===undefined){return route;}return _objectSpread({},route,{state:getPartialState(route.state)});})});};var Container=React.forwardRef(function NavigationContainer(_ref,ref){var initialState=_ref.initialState,onStateChange=_ref.onStateChange,children=_ref.children;var _React$useState=React.useState(function(){return getPartialState(initialState);}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setNavigationState=_React$useState2[1];var navigationStateRef=React.useRef();var transactionStateRef=React.useRef(null);var isTransactionActiveRef=React.useRef(false);var isFirstMountRef=React.useRef(true);var skipTrackingRef=React.useRef(false);var reset=React.useCallback(function(state){skipTrackingRef.current=true;setNavigationState(state);},[]);var _useDevTools=useDevTools({name:'@react-navigation',reset:reset,state:state}),trackState=_useDevTools.trackState,trackAction=_useDevTools.trackAction;var _useFocusedListeners=useFocusedListeners(),listeners=_useFocusedListeners.listeners,addFocusedListener=_useFocusedListeners.addListener;var _useStateGetters=useStateGetters(),getStateForRoute=_useStateGetters.getStateForRoute,addStateGetter=_useStateGetters.addStateGetter;var dispatch=function dispatch(action){listeners[0](function(navigation){return navigation.dispatch(action);});};var canGoBack=function canGoBack(){var _listeners$=listeners[0](function(navigation){return navigation.canGoBack();}),result=_listeners$.result,handled=_listeners$.handled;if(handled){return result;}else{return false;}};var resetRoot=React.useCallback(function(state){trackAction('@@RESET_ROOT');setNavigationState(state);},[trackAction]);var getRootState=function getRootState(){return getStateForRoute('root');};React.useImperativeHandle(ref,function(){return _objectSpread({},Object.keys(CommonActions).reduce(function(acc,name){acc[name]=function(){return dispatch(CommonActions[name].apply(CommonActions,arguments));};return acc;},{}),{resetRoot:resetRoot,dispatch:dispatch,canGoBack:canGoBack,getRootState:getRootState});});var builderContext=React.useMemo(function(){return{addFocusedListener:addFocusedListener,addStateGetter:addStateGetter,trackAction:trackAction};},[addFocusedListener,trackAction,addStateGetter]);var performTransaction=React.useCallback(function(callback){if(isTransactionActiveRef.current){throw new Error(\"Only one transaction can be active at a time. Did you accidentally nest 'performTransaction'?\");}setNavigationState(function(navigationState){isTransactionActiveRef.current=true;transactionStateRef.current=navigationState;callback();isTransactionActiveRef.current=false;return transactionStateRef.current;});},[]);var getState=React.useCallback(function(){return transactionStateRef.current!==null?transactionStateRef.current:navigationStateRef.current;},[]);var setState=React.useCallback(function(navigationState){if(transactionStateRef.current===null){throw new Error(\"Any 'setState' calls need to be done inside 'performTransaction'\");}transactionStateRef.current=navigationState;},[]);var context=React.useMemo(function(){return{state:state,performTransaction:performTransaction,getState:getState,setState:setState};},[getState,performTransaction,setState,state]);React.useEffect(function(){if(skipTrackingRef.current){skipTrackingRef.current=false;}else{trackState(state);}navigationStateRef.current=state;transactionStateRef.current=null;if(!isFirstMountRef.current&&onStateChange){onStateChange(state);}isFirstMountRef.current=false;},[state,onStateChange,trackState]);return React.createElement(NavigationBuilderContext.Provider,{value:builderContext,__source:{fileName:_jsxFileName,lineNumber:237}},React.createElement(NavigationStateContext.Provider,{value:context,__source:{fileName:_jsxFileName,lineNumber:238}},React.createElement(ResetRootContext.Provider,{value:resetRoot,__source:{fileName:_jsxFileName,lineNumber:239}},React.createElement(EnsureSingleNavigator,{__source:{fileName:_jsxFileName,lineNumber:240}},children))));});export default Container;\n//# sourceMappingURL=NavigationContainer.js.map"]},"metadata":{},"sourceType":"module"}