{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import*as React from'react';import Linking from\"react-native-web/dist/exports/Linking\";import{getStateFromPath as getStateFromPathDefault}from'@react-navigation/core';export default function useLinking(ref,_ref){var prefixes=_ref.prefixes,config=_ref.config,_ref$getStateFromPath=_ref.getStateFromPath,getStateFromPath=_ref$getStateFromPath===void 0?getStateFromPathDefault:_ref$getStateFromPath;var prefixesRef=React.useRef(prefixes);var configRef=React.useRef(config);var getStateFromPathRef=React.useRef(getStateFromPath);React.useEffect(function(){prefixesRef.current=prefixes;configRef.current=config;getStateFromPathRef.current=getStateFromPath;},[config,getStateFromPath,prefixes]);var extractPathFromURL=React.useCallback(function(url){for(var _iterator=prefixesRef.current,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol===\"function\"?typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\":\"@@iterator\"]();;){var _ref2;if(_isArray){if(_i>=_iterator.length)break;_ref2=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref2=_i.value;}var _prefix=_ref2;if(url.startsWith(_prefix)){return url.replace(_prefix,'');}}return undefined;},[]);var getInitialState=React.useCallback(function _callee(){var url,path;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(Linking.getInitialURL());case 2:url=_context.sent;path=url?extractPathFromURL(url):null;if(!path){_context.next=8;break;}return _context.abrupt(\"return\",getStateFromPathRef.current(path,configRef.current));case 8:return _context.abrupt(\"return\",undefined);case 9:case\"end\":return _context.stop();}}});},[extractPathFromURL]);React.useEffect(function(){var listener=function listener(_ref3){var url=_ref3.url;var path=extractPathFromURL(url);var navigation=ref.current;if(navigation&&path){var state=getStateFromPathRef.current(path,configRef.current);if(state){navigation.resetRoot(state);}}};Linking.addEventListener('url',listener);return function(){return Linking.removeEventListener('url',listener);};},[extractPathFromURL,ref]);return{getInitialState:getInitialState};}","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/native/lib/module/useLinking.js"],"names":["_regeneratorRuntime","React","getStateFromPath","getStateFromPathDefault","useLinking","ref","_ref","prefixes","config","_ref$getStateFromPath","prefixesRef","useRef","configRef","getStateFromPathRef","useEffect","current","extractPathFromURL","useCallback","url","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref2","length","next","done","value","_prefix","startsWith","replace","undefined","getInitialState","_callee","path","async","_callee$","_context","prev","awrap","Linking","getInitialURL","sent","abrupt","stop","listener","_ref3","navigation","state","resetRoot","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from\"@babel/runtime/regenerator\";import*as React from'react';import{Linking}from'react-native';import{getStateFromPath as getStateFromPathDefault}from'@react-navigation/core';export default function useLinking(ref,_ref){var prefixes=_ref.prefixes,config=_ref.config,_ref$getStateFromPath=_ref.getStateFromPath,getStateFromPath=_ref$getStateFromPath===void 0?getStateFromPathDefault:_ref$getStateFromPath;var prefixesRef=React.useRef(prefixes);var configRef=React.useRef(config);var getStateFromPathRef=React.useRef(getStateFromPath);React.useEffect(function(){prefixesRef.current=prefixes;configRef.current=config;getStateFromPathRef.current=getStateFromPath;},[config,getStateFromPath,prefixes]);var extractPathFromURL=React.useCallback(function(url){for(var _iterator=prefixesRef.current,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\"]();;){var _ref2;if(_isArray){if(_i>=_iterator.length)break;_ref2=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref2=_i.value;}var _prefix=_ref2;if(url.startsWith(_prefix)){return url.replace(_prefix,'');}}return undefined;},[]);var getInitialState=React.useCallback(function _callee(){var url,path;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(Linking.getInitialURL());case 2:url=_context.sent;path=url?extractPathFromURL(url):null;if(!path){_context.next=8;break;}return _context.abrupt(\"return\",getStateFromPathRef.current(path,configRef.current));case 8:return _context.abrupt(\"return\",undefined);case 9:case\"end\":return _context.stop();}}});},[extractPathFromURL]);React.useEffect(function(){var listener=function listener(_ref3){var url=_ref3.url;var path=extractPathFromURL(url);var navigation=ref.current;if(navigation&&path){var state=getStateFromPathRef.current(path,configRef.current);if(state){navigation.resetRoot(state);}}};Linking.addEventListener('url',listener);return function(){return Linking.removeEventListener('url',listener);};},[extractPathFromURL,ref]);return{getInitialState:getInitialState};}\n//# sourceMappingURL=useLinking.js.map"]},"metadata":{},"sourceType":"module"}