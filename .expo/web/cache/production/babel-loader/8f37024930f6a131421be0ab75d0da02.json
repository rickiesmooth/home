{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _extends from\"@babel/runtime/helpers/extends\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";var _jsxFileName=\"/Users/osdnk/work/navigation-ex/packages/bottom-tabs/src/views/BottomTabView.tsx\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{CommonActions}from'@react-navigation/core';import{ScreenContainer}from'react-native-screens';import{SafeAreaProvider}from'react-native-safe-area-context';import BottomTabBar from\"./BottomTabBar\";import ResourceSavingScene from\"./ResourceSavingScene\";var BottomTabView=function(_React$Component){_inherits(BottomTabView,_React$Component);function BottomTabView(){var _getPrototypeOf2;var _this;_classCallCheck(this,BottomTabView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BottomTabView)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loaded:[_this.props.state.index]};_this.getButtonComponent=function(_ref){var route=_ref.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarButtonComponent){return options.tabBarButtonComponent;}return undefined;};_this.renderIcon=function(_ref2){var route=_ref2.route,focused=_ref2.focused,color=_ref2.color,size=_ref2.size;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarIcon){return typeof options.tabBarIcon==='function'?options.tabBarIcon({focused:focused,color:color,size:size}):options.tabBarIcon;}return null;};_this.getLabelText=function(_ref3){var route=_ref3.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarLabel!==undefined){return options.tabBarLabel;}if(typeof options.title==='string'){return options.title;}return route.name;};_this.getAccessibilityLabel=function(_ref4){var route=_ref4.route;var _this$props=_this.props,state=_this$props.state,descriptors=_this$props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(typeof options.tabBarAccessibilityLabel!=='undefined'){return options.tabBarAccessibilityLabel;}var label=_this.getLabelText({route:route});if(typeof label==='string'){return label+\", tab, \"+(state.routes.indexOf(route)+1)+\" of \"+state.routes.length;}return undefined;};_this.getAccessibilityRole=function(){return'button';};_this.getAccessibilityStates=function(_ref5){var focused=_ref5.focused;return focused?['selected']:[];};_this.getTestID=function(_ref6){var route=_ref6.route;return _this.props.descriptors[route.key].options.tabBarTestID;};_this.handleTabPress=function(_ref7){var route=_ref7.route;var _this$props2=_this.props,state=_this$props2.state,navigation=_this$props2.navigation;var event=_this.props.navigation.emit({type:'tabPress',target:route.key});if(state.routes[state.index].key!==route.key&&!event.defaultPrevented){navigation.dispatch(_objectSpread({},CommonActions.navigate(route.name),{target:state.key}));}};_this.handleTabLongPress=function(_ref8){var route=_ref8.route;_this.props.navigation.emit({type:'tabLongPress',target:route.key});};_this.renderTabBar=function(){var _this$props3=_this.props,_this$props3$tabBarCo=_this$props3.tabBarComponent,TabBarComponent=_this$props3$tabBarCo===void 0?BottomTabBar:_this$props3$tabBarCo,tabBarOptions=_this$props3.tabBarOptions,state=_this$props3.state,navigation=_this$props3.navigation;var descriptors=_this.props.descriptors;var route=state.routes[state.index];var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarVisible===false){return null;}return React.createElement(TabBarComponent,_extends({},tabBarOptions,{state:state,descriptors:descriptors,navigation:navigation,onTabPress:_this.handleTabPress,onTabLongPress:_this.handleTabLongPress,getLabelText:_this.getLabelText,getButtonComponent:_this.getButtonComponent,getAccessibilityLabel:_this.getAccessibilityLabel,getAccessibilityRole:_this.getAccessibilityRole,getAccessibilityStates:_this.getAccessibilityStates,getTestID:_this.getTestID,renderIcon:_this.renderIcon,__source:{fileName:_jsxFileName,lineNumber:178}}));};return _this;}_createClass(BottomTabView,[{key:\"render\",value:function render(){var _this$props4=this.props,state=_this$props4.state,descriptors=_this$props4.descriptors,lazy=_this$props4.lazy;var routes=state.routes;var loaded=this.state.loaded;return React.createElement(SafeAreaProvider,{__source:{fileName:_jsxFileName,lineNumber:202}},React.createElement(View,{style:styles.container,__source:{fileName:_jsxFileName,lineNumber:203}},React.createElement(ScreenContainer,{style:styles.pages,__source:{fileName:_jsxFileName,lineNumber:204}},routes.map(function(route,index){if(lazy&&!loaded.includes(index)){return null;}var isFocused=state.index===index;return React.createElement(ResourceSavingScene,{key:route.key,style:StyleSheet.absoluteFill,isVisible:isFocused,__source:{fileName:_jsxFileName,lineNumber:214}},descriptors[route.key].render());})),this.renderTabBar()));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){var index=nextProps.state.index;return{loaded:prevState.loaded.includes(index)?prevState.loaded:[].concat(_toConsumableArray(prevState.loaded),[index])};}}]);return BottomTabView;}(React.Component);BottomTabView.defaultProps={lazy:true};export{BottomTabView as default};var styles=StyleSheet.create({container:{flex:1,overflow:'hidden'},pages:{flex:1}});","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/bottom-tabs/lib/module/views/BottomTabView.js"],"names":["_toConsumableArray","_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_jsxFileName","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","CommonActions","ScreenContainer","SafeAreaProvider","BottomTabBar","ResourceSavingScene","BottomTabView","_React$Component","_getPrototypeOf2","_this","_len","args","Array","_key","call","concat","state","loaded","props","index","getButtonComponent","_ref","route","descriptors","descriptor","options","tabBarButtonComponent","undefined","renderIcon","_ref2","focused","color","size","tabBarIcon","getLabelText","_ref3","tabBarLabel","title","name","getAccessibilityLabel","_ref4","_this$props","tabBarAccessibilityLabel","label","routes","indexOf","getAccessibilityRole","getAccessibilityStates","_ref5","getTestID","_ref6","tabBarTestID","handleTabPress","_ref7","_this$props2","navigation","event","emit","type","defaultPrevented","dispatch","navigate","handleTabLongPress","_ref8","renderTabBar","_this$props3","_this$props3$tabBarCo","tabBarComponent","TabBarComponent","tabBarOptions","tabBarVisible","createElement","onTabPress","onTabLongPress","__source","fileName","lineNumber","value","render","_this$props4","lazy","View","style","styles","container","pages","map","includes","isFocused","StyleSheet","absoluteFill","isVisible","getDerivedStateFromProps","nextProps","prevState","Component","defaultProps","default","create","flex","overflow"],"mappings":"AAAA,MAAOA,CAAAA,kBAAP,KAA8B,0CAA9B,CAAyE,MAAOC,CAAAA,QAAP,KAAoB,gCAApB,CAAqD,MAAOC,CAAAA,eAAP,KAA2B,uCAA3B,CAAmE,MAAOC,CAAAA,eAAP,KAA2B,uCAA3B,CAAmE,MAAOC,CAAAA,YAAP,KAAwB,oCAAxB,CAA6D,MAAOC,CAAAA,0BAAP,KAAsC,kDAAtC,CAAyF,MAAOC,CAAAA,eAAP,KAA2B,uCAA3B,CAAmE,MAAOC,CAAAA,SAAP,KAAqB,iCAArB,CAAuD,GAAIC,CAAAA,YAAY,CAAC,kFAAjB,CAAoG,QAASC,CAAAA,OAAT,CAAiBC,MAAjB,CAAwBC,cAAxB,CAAuC,CAAC,GAAIC,CAAAA,IAAI,CAACC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAT,CAA6B,GAAGG,MAAM,CAACC,qBAAV,CAAgC,CAAC,GAAIC,CAAAA,OAAO,CAACF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAZ,CAAiD,GAAGC,cAAH,CAAkBI,OAAO,CAACA,OAAO,CAACC,MAAR,CAAe,SAASC,GAAT,CAAa,CAAC,MAAOJ,CAAAA,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,CAAuCO,GAAvC,EAA4CE,UAAnD,CAA+D,CAA5F,CAAR,CAAsGP,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,CAAqBG,OAArB,EAA+B,OAAOH,CAAAA,IAAP,CAAa,SAASU,CAAAA,aAAT,CAAuBC,MAAvB,CAA8B,CAAC,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAYA,CAAC,CAACC,SAAS,CAACC,MAAxB,CAA+BF,CAAC,EAAhC,CAAmC,CAAC,GAAIG,CAAAA,MAAM,CAACF,SAAS,CAACD,CAAD,CAAT,EAAc,IAAd,CAAmBC,SAAS,CAACD,CAAD,CAA5B,CAAgC,EAA3C,CAA8C,GAAGA,CAAC,CAAC,CAAL,CAAO,CAACf,OAAO,CAACkB,MAAD,CAAQ,IAAR,CAAP,CAAqBC,OAArB,CAA6B,SAASC,GAAT,CAAa,CAAC3B,eAAe,CAACqB,MAAD,CAAQM,GAAR,CAAYF,MAAM,CAACE,GAAD,CAAlB,CAAf,CAAyC,CAApF,EAAuF,CAA/F,IAAoG,IAAGhB,MAAM,CAACiB,yBAAV,CAAoC,CAACjB,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,CAA+BV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAA/B,EAA0E,CAA/G,IAAmH,CAAClB,OAAO,CAACkB,MAAD,CAAP,CAAgBC,OAAhB,CAAwB,SAASC,GAAT,CAAa,CAAChB,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,CAA6BM,GAA7B,CAAiChB,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,CAAuCE,GAAvC,CAAjC,EAA+E,CAArH,EAAwH,CAAC,OAAON,CAAAA,MAAP,CAAe,OAAM,GAAIU,CAAAA,KAAV,KAAoB,OAApB,C,sHAAsE,OAAOC,aAAP,KAAyB,wBAAzB,CAAkD,OAAOC,eAAP,KAA2B,sBAA3B,CAAkD,OAAOC,gBAAP,KAA4B,gCAA5B,CAA6D,MAAOC,CAAAA,YAAP,sBAAyC,MAAOC,CAAAA,mBAAP,6BAAuD,GAAIC,CAAAA,aAAa,CAAC,SAASC,gBAAT,CAA0B,CAACjC,SAAS,CAACgC,aAAD,CAAeC,gBAAf,CAAT,CAA0C,QAASD,CAAAA,aAAT,EAAwB,CAAC,GAAIE,CAAAA,gBAAJ,CAAqB,GAAIC,CAAAA,KAAJ,CAAUvC,eAAe,CAAC,IAAD,CAAMoC,aAAN,CAAf,CAAoC,IAAI,GAAII,CAAAA,IAAI,CAAClB,SAAS,CAACC,MAAnB,CAA0BkB,IAAI,CAAC,GAAIC,CAAAA,KAAJ,CAAUF,IAAV,CAA/B,CAA+CG,IAAI,CAAC,CAAxD,CAA0DA,IAAI,CAACH,IAA/D,CAAoEG,IAAI,EAAxE,CAA2E,CAACF,IAAI,CAACE,IAAD,CAAJ,CAAWrB,SAAS,CAACqB,IAAD,CAApB,CAA4B,CAAAJ,KAAK,CAACrC,0BAA0B,CAAC,IAAD,CAAM,CAACoC,gBAAgB,CAACnC,eAAe,CAACiC,aAAD,CAAjC,EAAkDQ,IAAlD,CAAuD1B,KAAvD,CAA6DoB,gBAA7D,CAA8E,CAAC,IAAD,EAAOO,MAAP,CAAcJ,IAAd,CAA9E,CAAN,CAAhC,CAA0IF,KAAK,CAACO,KAAN,CAAY,CAACC,MAAM,CAAC,CAACR,KAAK,CAACS,KAAN,CAAYF,KAAZ,CAAkBG,KAAnB,CAAR,CAAZ,CAA+CV,KAAK,CAACW,kBAAN,CAAyB,SAASC,IAAT,CAAc,CAAC,GAAIC,CAAAA,KAAK,CAACD,IAAI,CAACC,KAAf,CAAqB,GAAIC,CAAAA,WAAW,CAACd,KAAK,CAACS,KAAN,CAAYK,WAA5B,CAAwC,GAAIC,CAAAA,UAAU,CAACD,WAAW,CAACD,KAAK,CAAC1B,GAAP,CAA1B,CAAsC,GAAI6B,CAAAA,OAAO,CAACD,UAAU,CAACC,OAAvB,CAA+B,GAAGA,OAAO,CAACC,qBAAX,CAAiC,CAAC,MAAOD,CAAAA,OAAO,CAACC,qBAAf,CAAsC,OAAOC,CAAAA,SAAP,CAAkB,CAApQ,CAAqQlB,KAAK,CAACmB,UAAN,CAAiB,SAASC,KAAT,CAAe,CAAC,GAAIP,CAAAA,KAAK,CAACO,KAAK,CAACP,KAAhB,CAAsBQ,OAAO,CAACD,KAAK,CAACC,OAApC,CAA4CC,KAAK,CAACF,KAAK,CAACE,KAAxD,CAA8DC,IAAI,CAACH,KAAK,CAACG,IAAzE,CAA8E,GAAIT,CAAAA,WAAW,CAACd,KAAK,CAACS,KAAN,CAAYK,WAA5B,CAAwC,GAAIC,CAAAA,UAAU,CAACD,WAAW,CAACD,KAAK,CAAC1B,GAAP,CAA1B,CAAsC,GAAI6B,CAAAA,OAAO,CAACD,UAAU,CAACC,OAAvB,CAA+B,GAAGA,OAAO,CAACQ,UAAX,CAAsB,CAAC,MAAO,OAAOR,CAAAA,OAAO,CAACQ,UAAf,GAA4B,UAA5B,CAAuCR,OAAO,CAACQ,UAAR,CAAmB,CAACH,OAAO,CAACA,OAAT,CAAiBC,KAAK,CAACA,KAAvB,CAA6BC,IAAI,CAACA,IAAlC,CAAnB,CAAvC,CAAmGP,OAAO,CAACQ,UAAlH,CAA8H,OAAO,KAAP,CAAa,CAA9X,CAA+XxB,KAAK,CAACyB,YAAN,CAAmB,SAASC,KAAT,CAAe,CAAC,GAAIb,CAAAA,KAAK,CAACa,KAAK,CAACb,KAAhB,CAAsB,GAAIC,CAAAA,WAAW,CAACd,KAAK,CAACS,KAAN,CAAYK,WAA5B,CAAwC,GAAIC,CAAAA,UAAU,CAACD,WAAW,CAACD,KAAK,CAAC1B,GAAP,CAA1B,CAAsC,GAAI6B,CAAAA,OAAO,CAACD,UAAU,CAACC,OAAvB,CAA+B,GAAGA,OAAO,CAACW,WAAR,GAAsBT,SAAzB,CAAmC,CAAC,MAAOF,CAAAA,OAAO,CAACW,WAAf,CAA4B,IAAG,MAAOX,CAAAA,OAAO,CAACY,KAAf,GAAuB,QAA1B,CAAmC,CAAC,MAAOZ,CAAAA,OAAO,CAACY,KAAf,CAAsB,OAAOf,CAAAA,KAAK,CAACgB,IAAb,CAAmB,CAAnT,CAAoT7B,KAAK,CAAC8B,qBAAN,CAA4B,SAASC,KAAT,CAAe,CAAC,GAAIlB,CAAAA,KAAK,CAACkB,KAAK,CAAClB,KAAhB,CAAsB,GAAImB,CAAAA,WAAW,CAAChC,KAAK,CAACS,KAAtB,CAA4BF,KAAK,CAACyB,WAAW,CAACzB,KAA9C,CAAoDO,WAAW,CAACkB,WAAW,CAAClB,WAA5E,CAAwF,GAAIC,CAAAA,UAAU,CAACD,WAAW,CAACD,KAAK,CAAC1B,GAAP,CAA1B,CAAsC,GAAI6B,CAAAA,OAAO,CAACD,UAAU,CAACC,OAAvB,CAA+B,GAAG,MAAOA,CAAAA,OAAO,CAACiB,wBAAf,GAA0C,WAA7C,CAAyD,CAAC,MAAOjB,CAAAA,OAAO,CAACiB,wBAAf,CAAyC,IAAIC,CAAAA,KAAK,CAAClC,KAAK,CAACyB,YAAN,CAAmB,CAACZ,KAAK,CAACA,KAAP,CAAnB,CAAV,CAA4C,GAAG,MAAOqB,CAAAA,KAAP,GAAe,QAAlB,CAA2B,CAAC,MAAOA,CAAAA,KAAK,CAAC,SAAN,EAAiB3B,KAAK,CAAC4B,MAAN,CAAaC,OAAb,CAAqBvB,KAArB,EAA4B,CAA7C,EAAgD,MAAhD,CAAuDN,KAAK,CAAC4B,MAAN,CAAanD,MAA3E,CAAmF,OAAOkC,CAAAA,SAAP,CAAkB,CAA/e,CAAgflB,KAAK,CAACqC,oBAAN,CAA2B,UAAU,CAAC,MAAM,QAAN,CAAgB,CAAtD,CAAuDrC,KAAK,CAACsC,sBAAN,CAA6B,SAASC,KAAT,CAAe,CAAC,GAAIlB,CAAAA,OAAO,CAACkB,KAAK,CAAClB,OAAlB,CAA0B,MAAOA,CAAAA,OAAO,CAAC,CAAC,UAAD,CAAD,CAAc,EAA5B,CAAgC,CAAvG,CAAwGrB,KAAK,CAACwC,SAAN,CAAgB,SAASC,KAAT,CAAe,CAAC,GAAI5B,CAAAA,KAAK,CAAC4B,KAAK,CAAC5B,KAAhB,CAAsB,MAAOb,CAAAA,KAAK,CAACS,KAAN,CAAYK,WAAZ,CAAwBD,KAAK,CAAC1B,GAA9B,EAAmC6B,OAAnC,CAA2C0B,YAAlD,CAAgE,CAAtH,CAAuH1C,KAAK,CAAC2C,cAAN,CAAqB,SAASC,KAAT,CAAe,CAAC,GAAI/B,CAAAA,KAAK,CAAC+B,KAAK,CAAC/B,KAAhB,CAAsB,GAAIgC,CAAAA,YAAY,CAAC7C,KAAK,CAACS,KAAvB,CAA6BF,KAAK,CAACsC,YAAY,CAACtC,KAAhD,CAAsDuC,UAAU,CAACD,YAAY,CAACC,UAA9E,CAAyF,GAAIC,CAAAA,KAAK,CAAC/C,KAAK,CAACS,KAAN,CAAYqC,UAAZ,CAAuBE,IAAvB,CAA4B,CAACC,IAAI,CAAC,UAAN,CAAiBpE,MAAM,CAACgC,KAAK,CAAC1B,GAA9B,CAA5B,CAAV,CAA0E,GAAGoB,KAAK,CAAC4B,MAAN,CAAa5B,KAAK,CAACG,KAAnB,EAA0BvB,GAA1B,GAAgC0B,KAAK,CAAC1B,GAAtC,EAA2C,CAAC4D,KAAK,CAACG,gBAArD,CAAsE,CAACJ,UAAU,CAACK,QAAX,CAAoBvE,aAAa,CAAC,EAAD,CAAIY,aAAa,CAAC4D,QAAd,CAAuBvC,KAAK,CAACgB,IAA7B,CAAJ,CAAuC,CAAChD,MAAM,CAAC0B,KAAK,CAACpB,GAAd,CAAvC,CAAjC,EAA8F,CAAC,CAApY,CAAqYa,KAAK,CAACqD,kBAAN,CAAyB,SAASC,KAAT,CAAe,CAAC,GAAIzC,CAAAA,KAAK,CAACyC,KAAK,CAACzC,KAAhB,CAAsBb,KAAK,CAACS,KAAN,CAAYqC,UAAZ,CAAuBE,IAAvB,CAA4B,CAACC,IAAI,CAAC,cAAN,CAAqBpE,MAAM,CAACgC,KAAK,CAAC1B,GAAlC,CAA5B,EAAqE,CAApI,CAAqIa,KAAK,CAACuD,YAAN,CAAmB,UAAU,CAAC,GAAIC,CAAAA,YAAY,CAACxD,KAAK,CAACS,KAAvB,CAA6BgD,qBAAqB,CAACD,YAAY,CAACE,eAAhE,CAAgFC,eAAe,CAACF,qBAAqB,GAAG,IAAK,EAA7B,CAA+B9D,YAA/B,CAA4C8D,qBAA5I,CAAkKG,aAAa,CAACJ,YAAY,CAACI,aAA7L,CAA2MrD,KAAK,CAACiD,YAAY,CAACjD,KAA9N,CAAoOuC,UAAU,CAACU,YAAY,CAACV,UAA5P,CAAuQ,GAAIhC,CAAAA,WAAW,CAACd,KAAK,CAACS,KAAN,CAAYK,WAA5B,CAAwC,GAAID,CAAAA,KAAK,CAACN,KAAK,CAAC4B,MAAN,CAAa5B,KAAK,CAACG,KAAnB,CAAV,CAAoC,GAAIK,CAAAA,UAAU,CAACD,WAAW,CAACD,KAAK,CAAC1B,GAAP,CAA1B,CAAsC,GAAI6B,CAAAA,OAAO,CAACD,UAAU,CAACC,OAAvB,CAA+B,GAAGA,OAAO,CAAC6C,aAAR,GAAwB,KAA3B,CAAiC,CAAC,MAAO,KAAP,CAAa,OAAOtE,CAAAA,KAAK,CAACuE,aAAN,CAAoBH,eAApB,CAAoCpG,QAAQ,CAAC,EAAD,CAAIqG,aAAJ,CAAkB,CAACrD,KAAK,CAACA,KAAP,CAAaO,WAAW,CAACA,WAAzB,CAAqCgC,UAAU,CAACA,UAAhD,CAA2DiB,UAAU,CAAC/D,KAAK,CAAC2C,cAA5E,CAA2FqB,cAAc,CAAChE,KAAK,CAACqD,kBAAhH,CAAmI5B,YAAY,CAACzB,KAAK,CAACyB,YAAtJ,CAAmKd,kBAAkB,CAACX,KAAK,CAACW,kBAA5L,CAA+MmB,qBAAqB,CAAC9B,KAAK,CAAC8B,qBAA3O,CAAiQO,oBAAoB,CAACrC,KAAK,CAACqC,oBAA5R,CAAiTC,sBAAsB,CAACtC,KAAK,CAACsC,sBAA9U,CAAqWE,SAAS,CAACxC,KAAK,CAACwC,SAArX,CAA+XrB,UAAU,CAACnB,KAAK,CAACmB,UAAhZ,CAA2Z8C,QAAQ,CAAC,CAACC,QAAQ,CAACpG,YAAV,CAAuBqG,UAAU,CAAC,GAAlC,CAApa,CAAlB,CAA5C,CAAP,CAAohB,CAAz/B,CAA0/B,MAAOnE,CAAAA,KAAP,CAAc,CAAAtC,YAAY,CAACmC,aAAD,CAAe,CAAC,CAACV,GAAG,CAAC,QAAL,CAAciF,KAAK,CAAC,QAASC,CAAAA,MAAT,EAAiB,CAAC,GAAIC,CAAAA,YAAY,CAAC,KAAK7D,KAAtB,CAA4BF,KAAK,CAAC+D,YAAY,CAAC/D,KAA/C,CAAqDO,WAAW,CAACwD,YAAY,CAACxD,WAA9E,CAA0FyD,IAAI,CAACD,YAAY,CAACC,IAA5G,CAAiH,GAAIpC,CAAAA,MAAM,CAAC5B,KAAK,CAAC4B,MAAjB,CAAwB,GAAI3B,CAAAA,MAAM,CAAC,KAAKD,KAAL,CAAWC,MAAtB,CAA6B,MAAOjB,CAAAA,KAAK,CAACuE,aAAN,CAAoBpE,gBAApB,CAAqC,CAACuE,QAAQ,CAAC,CAACC,QAAQ,CAACpG,YAAV,CAAuBqG,UAAU,CAAC,GAAlC,CAAV,CAArC,CAAuF5E,KAAK,CAACuE,aAAN,CAAoBU,IAApB,CAAyB,CAACC,KAAK,CAACC,MAAM,CAACC,SAAd,CAAwBV,QAAQ,CAAC,CAACC,QAAQ,CAACpG,YAAV,CAAuBqG,UAAU,CAAC,GAAlC,CAAjC,CAAzB,CAAkG5E,KAAK,CAACuE,aAAN,CAAoBrE,eAApB,CAAoC,CAACgF,KAAK,CAACC,MAAM,CAACE,KAAd,CAAoBX,QAAQ,CAAC,CAACC,QAAQ,CAACpG,YAAV,CAAuBqG,UAAU,CAAC,GAAlC,CAA7B,CAApC,CAAyGhC,MAAM,CAAC0C,GAAP,CAAW,SAAShE,KAAT,CAAeH,KAAf,CAAqB,CAAC,GAAG6D,IAAI,EAAE,CAAC/D,MAAM,CAACsE,QAAP,CAAgBpE,KAAhB,CAAV,CAAiC,CAAC,MAAO,KAAP,CAAa,IAAIqE,CAAAA,SAAS,CAACxE,KAAK,CAACG,KAAN,GAAcA,KAA5B,CAAkC,MAAOnB,CAAAA,KAAK,CAACuE,aAAN,CAAoBlE,mBAApB,CAAwC,CAACT,GAAG,CAAC0B,KAAK,CAAC1B,GAAX,CAAesF,KAAK,CAACO,UAAU,CAACC,YAAhC,CAA6CC,SAAS,CAACH,SAAvD,CAAiEd,QAAQ,CAAC,CAACC,QAAQ,CAACpG,YAAV,CAAuBqG,UAAU,CAAC,GAAlC,CAA1E,CAAxC,CAA0JrD,WAAW,CAACD,KAAK,CAAC1B,GAAP,CAAX,CAAuBkF,MAAvB,EAA1J,CAAP,CAAmM,CAArT,CAAzG,CAAlG,CAAmgB,KAAKd,YAAL,EAAngB,CAAvF,CAAP,CAAwnB,CAAp0B,CAAD,CAAf,CAAu1B,CAAC,CAACpE,GAAG,CAAC,0BAAL,CAAgCiF,KAAK,CAAC,QAASe,CAAAA,wBAAT,CAAkCC,SAAlC,CAA4CC,SAA5C,CAAsD,CAAC,GAAI3E,CAAAA,KAAK,CAAC0E,SAAS,CAAC7E,KAAV,CAAgBG,KAA1B,CAAgC,MAAM,CAACF,MAAM,CAAC6E,SAAS,CAAC7E,MAAV,CAAiBsE,QAAjB,CAA0BpE,KAA1B,EAAiC2E,SAAS,CAAC7E,MAA3C,CAAkD,GAAGF,MAAH,CAAUhD,kBAAkB,CAAC+H,SAAS,CAAC7E,MAAX,CAA5B,CAA+C,CAACE,KAAD,CAA/C,CAA1D,CAAN,CAA0H,CAAvP,CAAD,CAAv1B,CAAZ,CAA+lC,MAAOb,CAAAA,aAAP,CAAsB,CAAvwJ,CAAwwJN,KAAK,CAAC+F,SAA9wJ,CAAlB,CAA2yJzF,aAAa,CAAC0F,YAAd,CAA2B,CAAChB,IAAI,CAAC,IAAN,CAA3B,CAAuC,OAAO1E,aAAa,GAAI2F,CAAAA,OAAxB,EAAiC,GAAId,CAAAA,MAAM,CAACM,UAAU,CAACS,MAAX,CAAkB,CAACd,SAAS,CAAC,CAACe,IAAI,CAAC,CAAN,CAAQC,QAAQ,CAAC,QAAjB,CAAX,CAAsCf,KAAK,CAAC,CAACc,IAAI,CAAC,CAAN,CAA5C,CAAlB,CAAX","sourcesContent":["import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _extends from\"@babel/runtime/helpers/extends\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";var _jsxFileName=\"/Users/osdnk/work/navigation-ex/packages/bottom-tabs/src/views/BottomTabView.tsx\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import{View,StyleSheet}from'react-native';import{CommonActions}from'@react-navigation/core';import{ScreenContainer}from'react-native-screens';import{SafeAreaProvider}from'react-native-safe-area-context';import BottomTabBar from'./BottomTabBar';import ResourceSavingScene from'./ResourceSavingScene';var BottomTabView=function(_React$Component){_inherits(BottomTabView,_React$Component);function BottomTabView(){var _getPrototypeOf2;var _this;_classCallCheck(this,BottomTabView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BottomTabView)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loaded:[_this.props.state.index]};_this.getButtonComponent=function(_ref){var route=_ref.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarButtonComponent){return options.tabBarButtonComponent;}return undefined;};_this.renderIcon=function(_ref2){var route=_ref2.route,focused=_ref2.focused,color=_ref2.color,size=_ref2.size;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarIcon){return typeof options.tabBarIcon==='function'?options.tabBarIcon({focused:focused,color:color,size:size}):options.tabBarIcon;}return null;};_this.getLabelText=function(_ref3){var route=_ref3.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarLabel!==undefined){return options.tabBarLabel;}if(typeof options.title==='string'){return options.title;}return route.name;};_this.getAccessibilityLabel=function(_ref4){var route=_ref4.route;var _this$props=_this.props,state=_this$props.state,descriptors=_this$props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(typeof options.tabBarAccessibilityLabel!=='undefined'){return options.tabBarAccessibilityLabel;}var label=_this.getLabelText({route:route});if(typeof label==='string'){return label+\", tab, \"+(state.routes.indexOf(route)+1)+\" of \"+state.routes.length;}return undefined;};_this.getAccessibilityRole=function(){return'button';};_this.getAccessibilityStates=function(_ref5){var focused=_ref5.focused;return focused?['selected']:[];};_this.getTestID=function(_ref6){var route=_ref6.route;return _this.props.descriptors[route.key].options.tabBarTestID;};_this.handleTabPress=function(_ref7){var route=_ref7.route;var _this$props2=_this.props,state=_this$props2.state,navigation=_this$props2.navigation;var event=_this.props.navigation.emit({type:'tabPress',target:route.key});if(state.routes[state.index].key!==route.key&&!event.defaultPrevented){navigation.dispatch(_objectSpread({},CommonActions.navigate(route.name),{target:state.key}));}};_this.handleTabLongPress=function(_ref8){var route=_ref8.route;_this.props.navigation.emit({type:'tabLongPress',target:route.key});};_this.renderTabBar=function(){var _this$props3=_this.props,_this$props3$tabBarCo=_this$props3.tabBarComponent,TabBarComponent=_this$props3$tabBarCo===void 0?BottomTabBar:_this$props3$tabBarCo,tabBarOptions=_this$props3.tabBarOptions,state=_this$props3.state,navigation=_this$props3.navigation;var descriptors=_this.props.descriptors;var route=state.routes[state.index];var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarVisible===false){return null;}return React.createElement(TabBarComponent,_extends({},tabBarOptions,{state:state,descriptors:descriptors,navigation:navigation,onTabPress:_this.handleTabPress,onTabLongPress:_this.handleTabLongPress,getLabelText:_this.getLabelText,getButtonComponent:_this.getButtonComponent,getAccessibilityLabel:_this.getAccessibilityLabel,getAccessibilityRole:_this.getAccessibilityRole,getAccessibilityStates:_this.getAccessibilityStates,getTestID:_this.getTestID,renderIcon:_this.renderIcon,__source:{fileName:_jsxFileName,lineNumber:178}}));};return _this;}_createClass(BottomTabView,[{key:\"render\",value:function render(){var _this$props4=this.props,state=_this$props4.state,descriptors=_this$props4.descriptors,lazy=_this$props4.lazy;var routes=state.routes;var loaded=this.state.loaded;return React.createElement(SafeAreaProvider,{__source:{fileName:_jsxFileName,lineNumber:202}},React.createElement(View,{style:styles.container,__source:{fileName:_jsxFileName,lineNumber:203}},React.createElement(ScreenContainer,{style:styles.pages,__source:{fileName:_jsxFileName,lineNumber:204}},routes.map(function(route,index){if(lazy&&!loaded.includes(index)){return null;}var isFocused=state.index===index;return React.createElement(ResourceSavingScene,{key:route.key,style:StyleSheet.absoluteFill,isVisible:isFocused,__source:{fileName:_jsxFileName,lineNumber:214}},descriptors[route.key].render());})),this.renderTabBar()));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){var index=nextProps.state.index;return{loaded:prevState.loaded.includes(index)?prevState.loaded:[].concat(_toConsumableArray(prevState.loaded),[index])};}}]);return BottomTabView;}(React.Component);BottomTabView.defaultProps={lazy:true};export{BottomTabView as default};var styles=StyleSheet.create({container:{flex:1,overflow:'hidden'},pages:{flex:1}});\n//# sourceMappingURL=BottomTabView.js.map"]},"metadata":{},"sourceType":"module"}