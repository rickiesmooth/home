{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import shortid from'shortid';import{BaseRouter}from'@react-navigation/core';export var TabActions={jumpTo:function jumpTo(name,params){return{type:'JUMP_TO',payload:{name:name,params:params}};}};var changeIndex=function changeIndex(state,index){var previousKey=state.routes[state.index].key;var currentKey=state.routes[index].key;var routeKeyHistory=state.routeKeyHistory.filter(function(key){return key!==currentKey&&key!==previousKey;}).concat(previousKey);return _objectSpread({},state,{index:index,routeKeyHistory:routeKeyHistory});};export default function TabRouter(_ref){var initialRouteName=_ref.initialRouteName,_ref$backBehavior=_ref.backBehavior,backBehavior=_ref$backBehavior===void 0?'history':_ref$backBehavior;var router=_objectSpread({},BaseRouter,{type:'tab',getInitialState:function getInitialState(_ref2){var routeNames=_ref2.routeNames,routeParamList=_ref2.routeParamList;var index=initialRouteName===undefined?0:routeNames.indexOf(initialRouteName);return{stale:false,type:'tab',key:\"tab-\"+shortid(),index:index,routeNames:routeNames,routeKeyHistory:[],routes:routeNames.map(function(name){return{name:name,key:name+\"-\"+shortid(),params:routeParamList[name]};})};},getRehydratedState:function getRehydratedState(partialState,_ref3){var routeNames=_ref3.routeNames,routeParamList=_ref3.routeParamList;var state=partialState;if(state.stale===false){return state;}var routes=routeNames.map(function(name){var route=state.routes.find(function(r){return r.name===name;});return _objectSpread({},route,{name:name,key:route&&route.name===name&&route.key?route.key:name+\"-\"+shortid(),params:routeParamList[name]!==undefined?_objectSpread({},routeParamList[name],{},route?route.params:undefined):route?route.params:undefined});});var index=Math.min(Math.max(typeof state.index==='number'?state.index:routeNames.indexOf(state.routes[0].name),0),routes.length-1);var routeKeyHistory=state.routeKeyHistory?state.routeKeyHistory.filter(function(key){return routes.find(function(r){return r.key===key;});}):[];return{stale:false,type:'tab',key:\"tab-\"+shortid(),index:index,routeNames:routeNames,routeKeyHistory:routeKeyHistory,routes:routes};},getStateForRouteNamesChange:function getStateForRouteNamesChange(state,_ref4){var routeNames=_ref4.routeNames,routeParamList=_ref4.routeParamList;var routes=routeNames.map(function(name){return state.routes.find(function(r){return r.name===name;})||{name:name,key:name+\"-\"+shortid(),params:routeParamList[name]};});return _objectSpread({},state,{routeNames:routeNames,routes:routes,index:Math.min(state.index,routes.length-1)});},getStateForRouteFocus:function getStateForRouteFocus(state,key){var index=state.routes.findIndex(function(r){return r.key===key;});if(index===-1||index===state.index){return state;}return changeIndex(state,index);},getStateForAction:function getStateForAction(state,action){switch(action.type){case'JUMP_TO':case'NAVIGATE':{var index=-1;if(action.type==='NAVIGATE'&&action.payload.key){index=state.routes.findIndex(function(route){return route.key===action.payload.key;});}else{index=state.routes.findIndex(function(route){return route.name===action.payload.name;});}if(index===-1){return null;}return changeIndex(_objectSpread({},state,{routes:action.payload.params!==undefined?state.routes.map(function(route,i){return i===index?_objectSpread({},route,{params:_objectSpread({},route.params,{},action.payload.params)}):route;}):state.routes}),index);}case'GO_BACK':switch(backBehavior){case'initialRoute':{var _index=initialRouteName?state.routeNames.indexOf(initialRouteName):0;if(_index===-1||_index===state.index){return null;}return _objectSpread({},state,{index:_index});}case'order':if(state.index===0){return null;}return _objectSpread({},state,{index:state.index-1});case'history':{var previousKey=state.routeKeyHistory[state.routeKeyHistory.length-1];var _index2=state.routes.findIndex(function(route){return route.key===previousKey;});if(_index2===-1){return null;}return _objectSpread({},state,{routeKeyHistory:state.routeKeyHistory.slice(0,-1),index:_index2});}default:return null;}default:return BaseRouter.getStateForAction(state,action);}},shouldActionChangeFocus:function shouldActionChangeFocus(action){return action.type==='NAVIGATE';},actionCreators:TabActions});return router;}","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/routers/lib/module/TabRouter.js"],"names":["_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","shortid","BaseRouter","TabActions","jumpTo","name","params","type","payload","changeIndex","state","index","previousKey","routes","currentKey","routeKeyHistory","concat","TabRouter","_ref","initialRouteName","_ref$backBehavior","backBehavior","router","getInitialState","_ref2","routeNames","routeParamList","undefined","indexOf","stale","map","getRehydratedState","partialState","_ref3","route","find","r","Math","min","max","getStateForRouteNamesChange","_ref4","getStateForRouteFocus","findIndex","getStateForAction","action","_index","_index2","slice","shouldActionChangeFocus","actionCreators"],"mappings":"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","sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import shortid from'shortid';import{BaseRouter}from'@react-navigation/core';export var TabActions={jumpTo:function jumpTo(name,params){return{type:'JUMP_TO',payload:{name:name,params:params}};}};var changeIndex=function changeIndex(state,index){var previousKey=state.routes[state.index].key;var currentKey=state.routes[index].key;var routeKeyHistory=state.routeKeyHistory.filter(function(key){return key!==currentKey&&key!==previousKey;}).concat(previousKey);return _objectSpread({},state,{index:index,routeKeyHistory:routeKeyHistory});};export default function TabRouter(_ref){var initialRouteName=_ref.initialRouteName,_ref$backBehavior=_ref.backBehavior,backBehavior=_ref$backBehavior===void 0?'history':_ref$backBehavior;var router=_objectSpread({},BaseRouter,{type:'tab',getInitialState:function getInitialState(_ref2){var routeNames=_ref2.routeNames,routeParamList=_ref2.routeParamList;var index=initialRouteName===undefined?0:routeNames.indexOf(initialRouteName);return{stale:false,type:'tab',key:\"tab-\"+shortid(),index:index,routeNames:routeNames,routeKeyHistory:[],routes:routeNames.map(function(name){return{name:name,key:name+\"-\"+shortid(),params:routeParamList[name]};})};},getRehydratedState:function getRehydratedState(partialState,_ref3){var routeNames=_ref3.routeNames,routeParamList=_ref3.routeParamList;var state=partialState;if(state.stale===false){return state;}var routes=routeNames.map(function(name){var route=state.routes.find(function(r){return r.name===name;});return _objectSpread({},route,{name:name,key:route&&route.name===name&&route.key?route.key:name+\"-\"+shortid(),params:routeParamList[name]!==undefined?_objectSpread({},routeParamList[name],{},route?route.params:undefined):route?route.params:undefined});});var index=Math.min(Math.max(typeof state.index==='number'?state.index:routeNames.indexOf(state.routes[0].name),0),routes.length-1);var routeKeyHistory=state.routeKeyHistory?state.routeKeyHistory.filter(function(key){return routes.find(function(r){return r.key===key;});}):[];return{stale:false,type:'tab',key:\"tab-\"+shortid(),index:index,routeNames:routeNames,routeKeyHistory:routeKeyHistory,routes:routes};},getStateForRouteNamesChange:function getStateForRouteNamesChange(state,_ref4){var routeNames=_ref4.routeNames,routeParamList=_ref4.routeParamList;var routes=routeNames.map(function(name){return state.routes.find(function(r){return r.name===name;})||{name:name,key:name+\"-\"+shortid(),params:routeParamList[name]};});return _objectSpread({},state,{routeNames:routeNames,routes:routes,index:Math.min(state.index,routes.length-1)});},getStateForRouteFocus:function getStateForRouteFocus(state,key){var index=state.routes.findIndex(function(r){return r.key===key;});if(index===-1||index===state.index){return state;}return changeIndex(state,index);},getStateForAction:function getStateForAction(state,action){switch(action.type){case'JUMP_TO':case'NAVIGATE':{var index=-1;if(action.type==='NAVIGATE'&&action.payload.key){index=state.routes.findIndex(function(route){return route.key===action.payload.key;});}else{index=state.routes.findIndex(function(route){return route.name===action.payload.name;});}if(index===-1){return null;}return changeIndex(_objectSpread({},state,{routes:action.payload.params!==undefined?state.routes.map(function(route,i){return i===index?_objectSpread({},route,{params:_objectSpread({},route.params,{},action.payload.params)}):route;}):state.routes}),index);}case'GO_BACK':switch(backBehavior){case'initialRoute':{var _index=initialRouteName?state.routeNames.indexOf(initialRouteName):0;if(_index===-1||_index===state.index){return null;}return _objectSpread({},state,{index:_index});}case'order':if(state.index===0){return null;}return _objectSpread({},state,{index:state.index-1});case'history':{var previousKey=state.routeKeyHistory[state.routeKeyHistory.length-1];var _index2=state.routes.findIndex(function(route){return route.key===previousKey;});if(_index2===-1){return null;}return _objectSpread({},state,{routeKeyHistory:state.routeKeyHistory.slice(0,-1),index:_index2});}default:return null;}default:return BaseRouter.getStateForAction(state,action);}},shouldActionChangeFocus:function shouldActionChangeFocus(action){return action.type==='NAVIGATE';},actionCreators:TabActions});return router;}\n//# sourceMappingURL=TabRouter.js.map"]},"metadata":{},"sourceType":"module"}