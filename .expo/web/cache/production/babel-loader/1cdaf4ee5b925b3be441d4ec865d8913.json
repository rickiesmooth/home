{"ast":null,"code":"import*as React from'react';import{useNavigation,useRoute}from'@react-navigation/core';function getScrollableNode(ref){if(ref.current==null){return null;}if('getScrollResponder'in ref.current){return ref.current.getScrollResponder();}else if('getNode'in ref.current){return ref.current.getNode();}else{return ref.current;}}export default function useScrollToTop(ref){var navigation=useNavigation();var route=useRoute();React.useEffect(function(){var current=navigation;while(current&&current.dangerouslyGetState().type!=='tab'){current=current.dangerouslyGetParent();}if(!current){return;}var unsubscribe=current.addListener('tabPress',function(e){var isFocused=navigation.isFocused();var isFirst=navigation===current||navigation.dangerouslyGetState().routes[0].key===route.key;requestAnimationFrame(function(){var scrollable=getScrollableNode(ref);if(isFocused&&isFirst&&scrollable&&!e.defaultPrevented){if('scrollToTop'in scrollable){scrollable.scrollToTop();}else if('scrollTo'in scrollable){scrollable.scrollTo({y:0,animated:true});}else if('scrollToOffset'in scrollable){scrollable.scrollToOffset({y:0,animated:true});}else if('scrollResponderScrollTo'in scrollable){scrollable.scrollResponderScrollTo({y:0,animated:true});}}});});return unsubscribe;},[navigation,ref,route.key]);}","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/native/lib/module/useScrollToTop.js"],"names":["React","useNavigation","useRoute","getScrollableNode","ref","current","getScrollResponder","getNode","useScrollToTop","navigation","route","useEffect","dangerouslyGetState","type","dangerouslyGetParent","unsubscribe","addListener","e","isFocused","isFirst","routes","key","requestAnimationFrame","scrollable","defaultPrevented","scrollToTop","scrollTo","y","animated","scrollToOffset","scrollResponderScrollTo"],"mappings":"AAAA,MAAM,GAAIA,CAAAA,KAAV,KAAoB,OAApB,CAA4B,OAAOC,aAAP,CAAqBC,QAArB,KAAkC,wBAAlC,CAA2D,QAASC,CAAAA,iBAAT,CAA2BC,GAA3B,CAA+B,CAAC,GAAGA,GAAG,CAACC,OAAJ,EAAa,IAAhB,CAAqB,CAAC,MAAO,KAAP,CAAa,IAAG,sBAAuBD,CAAAA,GAAG,CAACC,OAA9B,CAAsC,CAAC,MAAOD,CAAAA,GAAG,CAACC,OAAJ,CAAYC,kBAAZ,EAAP,CAAyC,CAAhF,IAAqF,IAAG,WAAYF,CAAAA,GAAG,CAACC,OAAnB,CAA2B,CAAC,MAAOD,CAAAA,GAAG,CAACC,OAAJ,CAAYE,OAAZ,EAAP,CAA8B,CAA1D,IAA8D,CAAC,MAAOH,CAAAA,GAAG,CAACC,OAAX,CAAoB,CAAC,eAAe,SAASG,CAAAA,cAAT,CAAwBJ,GAAxB,CAA4B,CAAC,GAAIK,CAAAA,UAAU,CAACR,aAAa,EAA5B,CAA+B,GAAIS,CAAAA,KAAK,CAACR,QAAQ,EAAlB,CAAqBF,KAAK,CAACW,SAAN,CAAgB,UAAU,CAAC,GAAIN,CAAAA,OAAO,CAACI,UAAZ,CAAuB,MAAMJ,OAAO,EAAEA,OAAO,CAACO,mBAAR,GAA8BC,IAA9B,GAAqC,KAApD,CAA0D,CAACR,OAAO,CAACA,OAAO,CAACS,oBAAR,EAAR,CAAwC,IAAG,CAACT,OAAJ,CAAY,CAAC,OAAQ,IAAIU,CAAAA,WAAW,CAACV,OAAO,CAACW,WAAR,CAAoB,UAApB,CAA+B,SAASC,CAAT,CAAW,CAAC,GAAIC,CAAAA,SAAS,CAACT,UAAU,CAACS,SAAX,EAAd,CAAqC,GAAIC,CAAAA,OAAO,CAACV,UAAU,GAAGJ,OAAb,EAAsBI,UAAU,CAACG,mBAAX,GAAiCQ,MAAjC,CAAwC,CAAxC,EAA2CC,GAA3C,GAAiDX,KAAK,CAACW,GAAzF,CAA6FC,qBAAqB,CAAC,UAAU,CAAC,GAAIC,CAAAA,UAAU,CAACpB,iBAAiB,CAACC,GAAD,CAAhC,CAAsC,GAAGc,SAAS,EAAEC,OAAX,EAAoBI,UAApB,EAAgC,CAACN,CAAC,CAACO,gBAAtC,CAAuD,CAAC,GAAG,eAAgBD,CAAAA,UAAnB,CAA8B,CAACA,UAAU,CAACE,WAAX,GAA0B,CAAzD,IAA8D,IAAG,YAAaF,CAAAA,UAAhB,CAA2B,CAACA,UAAU,CAACG,QAAX,CAAoB,CAACC,CAAC,CAAC,CAAH,CAAKC,QAAQ,CAAC,IAAd,CAApB,EAA0C,CAAtE,IAA2E,IAAG,kBAAmBL,CAAAA,UAAtB,CAAiC,CAACA,UAAU,CAACM,cAAX,CAA0B,CAACF,CAAC,CAAC,CAAH,CAAKC,QAAQ,CAAC,IAAd,CAA1B,EAAgD,CAAlF,IAAuF,IAAG,2BAA4BL,CAAAA,UAA/B,CAA0C,CAACA,UAAU,CAACO,uBAAX,CAAmC,CAACH,CAAC,CAAC,CAAH,CAAKC,QAAQ,CAAC,IAAd,CAAnC,EAAyD,CAAC,CAAC,CAAhb,CAArB,CAAwc,CAArnB,CAAhB,CAAuoB,MAAOb,CAAAA,WAAP,CAAoB,CAAr0B,CAAs0B,CAACN,UAAD,CAAYL,GAAZ,CAAgBM,KAAK,CAACW,GAAtB,CAAt0B,EAAm2B","sourcesContent":["import*as React from'react';import{useNavigation,useRoute}from'@react-navigation/core';function getScrollableNode(ref){if(ref.current==null){return null;}if('getScrollResponder'in ref.current){return ref.current.getScrollResponder();}else if('getNode'in ref.current){return ref.current.getNode();}else{return ref.current;}}export default function useScrollToTop(ref){var navigation=useNavigation();var route=useRoute();React.useEffect(function(){var current=navigation;while(current&&current.dangerouslyGetState().type!=='tab'){current=current.dangerouslyGetParent();}if(!current){return;}var unsubscribe=current.addListener('tabPress',function(e){var isFocused=navigation.isFocused();var isFirst=navigation===current||navigation.dangerouslyGetState().routes[0].key===route.key;requestAnimationFrame(function(){var scrollable=getScrollableNode(ref);if(isFocused&&isFirst&&scrollable&&!e.defaultPrevented){if('scrollToTop'in scrollable){scrollable.scrollToTop();}else if('scrollTo'in scrollable){scrollable.scrollTo({y:0,animated:true});}else if('scrollToOffset'in scrollable){scrollable.scrollToOffset({y:0,animated:true});}else if('scrollResponderScrollTo'in scrollable){scrollable.scrollResponderScrollTo({y:0,animated:true});}}});});return unsubscribe;},[navigation,ref,route.key]);}\n//# sourceMappingURL=useScrollToTop.js.map"]},"metadata":{},"sourceType":"module"}