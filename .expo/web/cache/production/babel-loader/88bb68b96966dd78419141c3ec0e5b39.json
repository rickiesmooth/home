{"ast":null,"code":"import*as React from'react';import NavigationBuilderContext from\"./NavigationBuilderContext\";export default function useOnAction(_ref){var router=_ref.router,getState=_ref.getState,setState=_ref.setState,key=_ref.key,listeners=_ref.listeners;var _React$useContext=React.useContext(NavigationBuilderContext),onActionParent=_React$useContext.onAction,onRouteFocusParent=_React$useContext.onRouteFocus,addActionListenerParent=_React$useContext.addActionListener,trackAction=_React$useContext.trackAction;var onAction=React.useCallback(function(action){var visitedNavigators=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Set();var state=getState();if(visitedNavigators.has(state.key)){return false;}visitedNavigators.add(state.key);if(typeof action.target==='string'&&action.target!==state.key){return false;}var result=router.getStateForAction(state,action);result=result===null&&action.target===state.key?state:result;if(result!==null){trackAction(action);if(state!==result){setState(result);}if(onRouteFocusParent!==undefined){var shouldFocus=router.shouldActionChangeFocus(action);if(shouldFocus&&key!==undefined){onRouteFocusParent(key);}}return true;}if(onActionParent!==undefined){if(onActionParent(action,visitedNavigators)){return true;}}for(var i=listeners.length-1;i>=0;i--){var listener=listeners[i];if(listener(action,visitedNavigators)){return true;}}return false;},[getState,router,onActionParent,trackAction,onRouteFocusParent,setState,key,listeners]);React.useEffect(function(){return addActionListenerParent&&addActionListenerParent(onAction);},[addActionListenerParent,onAction]);return onAction;}","map":{"version":3,"sources":["/home/rick/dev/cool-home/node_modules/@react-navigation/core/lib/module/useOnAction.js"],"names":["React","NavigationBuilderContext","useOnAction","_ref","router","getState","setState","key","listeners","_React$useContext","useContext","onActionParent","onAction","onRouteFocusParent","onRouteFocus","addActionListenerParent","addActionListener","trackAction","useCallback","action","visitedNavigators","arguments","length","undefined","Set","state","has","add","target","result","getStateForAction","shouldFocus","shouldActionChangeFocus","i","listener","useEffect"],"mappings":"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","sourcesContent":["import*as React from'react';import NavigationBuilderContext from'./NavigationBuilderContext';export default function useOnAction(_ref){var router=_ref.router,getState=_ref.getState,setState=_ref.setState,key=_ref.key,listeners=_ref.listeners;var _React$useContext=React.useContext(NavigationBuilderContext),onActionParent=_React$useContext.onAction,onRouteFocusParent=_React$useContext.onRouteFocus,addActionListenerParent=_React$useContext.addActionListener,trackAction=_React$useContext.trackAction;var onAction=React.useCallback(function(action){var visitedNavigators=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Set();var state=getState();if(visitedNavigators.has(state.key)){return false;}visitedNavigators.add(state.key);if(typeof action.target==='string'&&action.target!==state.key){return false;}var result=router.getStateForAction(state,action);result=result===null&&action.target===state.key?state:result;if(result!==null){trackAction(action);if(state!==result){setState(result);}if(onRouteFocusParent!==undefined){var shouldFocus=router.shouldActionChangeFocus(action);if(shouldFocus&&key!==undefined){onRouteFocusParent(key);}}return true;}if(onActionParent!==undefined){if(onActionParent(action,visitedNavigators)){return true;}}for(var i=listeners.length-1;i>=0;i--){var listener=listeners[i];if(listener(action,visitedNavigators)){return true;}}return false;},[getState,router,onActionParent,trackAction,onRouteFocusParent,setState,key,listeners]);React.useEffect(function(){return addActionListenerParent&&addActionListenerParent(onAction);},[addActionListenerParent,onAction]);return onAction;}\n//# sourceMappingURL=useOnAction.js.map"]},"metadata":{},"sourceType":"module"}